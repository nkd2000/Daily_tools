<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age Calculator | Free Online Tools</title>
    
    <!-- User's AdSense -->
    <meta name="google-adsense-account" content="ca-pub-3793390054330330">
    <script data-ad-client="ca-pub-3793390054330330" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.4s ease-out forwards; opacity: 0; transform: translateY(10px); }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
        
        /* Custom Date Input Styling */
        input[type="date"]::-webkit-calendar-picker-indicator {
            cursor: pointer;
            opacity: 0.6;
            transition: 0.2s;
        }
        input[type="date"]::-webkit-calendar-picker-indicator:hover {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-50 text-slate-800 flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="bg-teal-600 text-white p-2 rounded-lg">
                        <i class="fa-solid fa-cake-candles"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight text-gray-900">AgeCalc</span>
                </div>
                <div class="flex items-center gap-6 text-sm font-medium text-gray-500">
                    <a href="index.html" class="hover:text-teal-600 transition">Home</a>
                    <a href="https://jansuchnaforall.blogspot.com" target="_blank" class="hover:text-teal-600 transition">Blog</a>
                    <a href="contact.html" class="hover:text-teal-600 transition">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-6xl mx-auto px-4 py-8 sm:px-6 w-full">
        
        <!-- Header -->
        <div class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-3">Age Calculator</h1>
            <p class="text-gray-500 text-lg max-w-2xl mx-auto">
                Calculate your exact age in years, months, and days.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
            
            <!-- Left Column: Inputs -->
            <div class="lg:col-span-5 space-y-6">
                
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="p-5 border-b border-gray-100 bg-gray-50">
                        <h3 class="font-semibold text-gray-800"><i class="fa-regular fa-calendar mr-2 text-teal-500"></i>Enter Details</h3>
                    </div>
                    <div class="p-6 space-y-5">
                        
                        <!-- Date of Birth -->
                        <div>
                            <label for="dob" class="block text-sm font-medium text-gray-700 mb-1">Date of Birth</label>
                            <input type="date" id="dob" class="block w-full border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500 sm:text-sm p-2.5 border transition">
                        </div>

                        <!-- Calculate As Of -->
                        <div>
                            <label for="asOf" class="block text-sm font-medium text-gray-700 mb-1">Calculate Age As Of</label>
                            <input type="date" id="asOf" class="block w-full border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500 sm:text-sm p-2.5 border transition bg-gray-50">
                            <p class="mt-1 text-xs text-gray-400">Defaults to today's date.</p>
                        </div>

                        <!-- Buttons -->
                        <div class="pt-2 flex gap-3">
                            <button id="calcBtn" class="flex-1 bg-teal-600 hover:bg-teal-700 text-white font-medium py-2.5 px-4 rounded-lg shadow transition duration-150 ease-in-out flex justify-center items-center gap-2">
                                <i class="fa-solid fa-calculator"></i> Calculate
                            </button>
                            <button id="resetBtn" class="px-4 py-2.5 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition">
                                Reset
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Info Card -->
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-md">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fa-solid fa-circle-info text-blue-400"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-blue-700">
                                This tool runs 100% in your browser. Your birth date is never sent to any server.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Results -->
            <div class="lg:col-span-7">
                
                <!-- Result Card -->
                <div id="resultCard" class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden min-h-[400px] flex flex-col relative">
                    
                    <!-- Empty State -->
                    <div id="emptyState" class="absolute inset-0 flex flex-col items-center justify-center text-gray-400 bg-white z-10">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4">
                            <i class="fa-regular fa-hourglass-half text-3xl opacity-40"></i>
                        </div>
                        <p>Enter your birth date to see results</p>
                    </div>

                    <!-- Content (Hidden initially) -->
                    <div id="resultContent" class="hidden flex-grow flex flex-col">
                        
                        <div class="p-6 bg-teal-600 text-white text-center relative overflow-hidden">
                            <!-- Background decoration -->
                            <div class="absolute top-0 left-0 w-full h-full opacity-10">
                                <i class="fa-solid fa-cake-candles absolute -top-4 -left-4 text-9xl"></i>
                                <i class="fa-solid fa-gift absolute bottom-4 right-4 text-8xl"></i>
                            </div>
                            
                            <h2 class="text-lg font-medium opacity-90 relative z-10">Your Exact Age</h2>
                            <div class="mt-4 flex justify-center items-baseline gap-2 relative z-10 flex-wrap">
                                <div class="text-center px-4">
                                    <span id="resYears" class="text-5xl font-bold block">0</span>
                                    <span class="text-sm opacity-80 uppercase tracking-wide">Years</span>
                                </div>
                                <div class="text-center px-4">
                                    <span id="resMonths" class="text-5xl font-bold block">0</span>
                                    <span class="text-sm opacity-80 uppercase tracking-wide">Months</span>
                                </div>
                                <div class="text-center px-4">
                                    <span id="resDays" class="text-5xl font-bold block">0</span>
                                    <span class="text-sm opacity-80 uppercase tracking-wide">Days</span>
                                </div>
                            </div>
                        </div>

                        <!-- Next Birthday Section -->
                        <div class="p-6 border-b border-gray-100 bg-white fade-in delay-100">
                            <h3 class="text-gray-800 font-semibold mb-4 flex items-center">
                                <i class="fa-solid fa-calendar-day text-teal-500 mr-2"></i> Next Birthday
                            </h3>
                            <div class="flex items-center justify-between bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <div>
                                    <p id="nextBdayDate" class="font-bold text-gray-800 text-lg">Loading...</p>
                                    <p id="nextBdayDay" class="text-sm text-gray-500">Loading...</p>
                                </div>
                                <div class="text-right">
                                    <span class="text-xs text-gray-500 uppercase font-semibold">Remaining</span>
                                    <p id="nextBdayRemaining" class="text-2xl font-bold text-teal-600">0 Days</p>
                                </div>
                            </div>
                        </div>

                        <!-- Summary Grid -->
                        <div class="p-6 bg-slate-50 flex-grow fade-in delay-200">
                            <h3 class="text-gray-800 font-semibold mb-4">Summary Stats</h3>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <p class="text-xs text-gray-500 uppercase">Total Months</p>
                                    <p id="totalMonths" class="text-lg font-bold text-gray-800 mt-1">-</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <p class="text-xs text-gray-500 uppercase">Total Weeks</p>
                                    <p id="totalWeeks" class="text-lg font-bold text-gray-800 mt-1">-</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <p class="text-xs text-gray-500 uppercase">Total Days</p>
                                    <p id="totalDays" class="text-lg font-bold text-gray-800 mt-1">-</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <p class="text-xs text-gray-500 uppercase">Total Hours</p>
                                    <p id="totalHours" class="text-lg font-bold text-gray-800 mt-1">-</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <p class="text-xs text-gray-500 uppercase">Total Minutes</p>
                                    <p id="totalMinutes" class="text-lg font-bold text-gray-800 mt-1">-</p>
                                </div>
                            </div>
                        </div>

                        <!-- Action Footer -->
                        <div class="p-4 bg-white border-t border-gray-200 flex justify-end">
                            <button id="copyBtn" class="text-sm text-gray-600 hover:text-teal-600 font-medium flex items-center gap-2">
                                <i class="fa-regular fa-copy"></i> Copy Details
                            </button>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <button onclick="history.back()" class="text-gray-500 hover:text-gray-700 font-medium text-sm flex items-center">
                        <i class="fa-solid fa-arrow-left mr-2"></i> Back to Tools
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-gray-200 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-sm text-gray-500">
                &copy; 2023 Free Online Tools. <a href="privacy.html" class="text-teal-600 hover:text-teal-500">Privacy Policy</a>
            </p>
        </div>
    </footer>

    <script>
        (function() {
            // Elements
            const dobInput = document.getElementById('dob');
            const asOfInput = document.getElementById('asOf');
            const calcBtn = document.getElementById('calcBtn');
            const resetBtn = document.getElementById('resetBtn');
            const emptyState = document.getElementById('emptyState');
            const resultContent = document.getElementById('resultContent');
            const copyBtn = document.getElementById('copyBtn');

            // Result Elements
            const resYears = document.getElementById('resYears');
            const resMonths = document.getElementById('resMonths');
            const resDays = document.getElementById('resDays');
            const nextBdayDate = document.getElementById('nextBdayDate');
            const nextBdayDay = document.getElementById('nextBdayDay');
            const nextBdayRemaining = document.getElementById('nextBdayRemaining');
            const elTotalMonths = document.getElementById('totalMonths');
            const elTotalWeeks = document.getElementById('totalWeeks');
            const elTotalDays = document.getElementById('totalDays');
            const elTotalHours = document.getElementById('totalHours');
            const elTotalMinutes = document.getElementById('totalMinutes');

            // Set default "As Of" date to today
            const today = new Date().toISOString().split('T')[0];
            asOfInput.value = today;

            // Helper to format numbers with commas
            const fmt = (n) => n.toLocaleString();

            function calculateAge() {
                const dobVal = dobInput.value;
                const asOfVal = asOfInput.value;

                if (!dobVal) {
                    alert("Please select your Date of Birth.");
                    return;
                }

                const dob = new Date(dobVal);
                const asOf = new Date(asOfVal);

                if (dob > asOf) {
                    alert("Date of Birth cannot be in the future relative to the 'As Of' date.");
                    return;
                }

                // --- Exact Age Calculation ---
                let years = asOf.getFullYear() - dob.getFullYear();
                let months = asOf.getMonth() - dob.getMonth();
                let days = asOf.getDate() - dob.getDate();

                if (days < 0) {
                    months--;
                    // Get days in previous month
                    const prevMonth = new Date(asOf.getFullYear(), asOf.getMonth(), 0);
                    days += prevMonth.getDate();
                }

                if (months < 0) {
                    years--;
                    months += 12;
                }

                // --- Update UI Main Stats ---
                resYears.textContent = years;
                resMonths.textContent = months;
                resDays.textContent = days;

                // --- Next Birthday Calculation ---
                const nextBday = new Date(dob.getFullYear(), dob.getMonth(), dob.getDate());
                nextBday.setFullYear(asOf.getFullYear());
                
                // If birthday has passed this year, add 1 year
                if (nextBday < asOf) {
                    nextBday.setFullYear(asOf.getFullYear() + 1);
                }

                // Check if today is birthday
                const isBirthday = (dob.getDate() === asOf.getDate() && dob.getMonth() === asOf.getMonth());

                if (isBirthday) {
                    nextBdayRemaining.textContent = "Today!";
                    nextBdayRemaining.classList.add('text-teal-600');
                    nextBdayDate.textContent = asOf.toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                    nextBdayDay.textContent = "Happy Birthday!";
                } else {
                    const diffTime = Math.abs(nextBday - asOf);
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
                    nextBdayRemaining.textContent = `${diffDays} Days`;
                    
                    nextBdayDate.textContent = nextBday.toLocaleDateString(undefined, { day: 'numeric', month: 'long', year: 'numeric' });
                    nextBdayDay.textContent = nextBday.toLocaleDateString(undefined, { weekday: 'long' });
                }

                // --- Summary Stats ---
                const totalTimeDiff = Math.abs(asOf - dob);
                const totalDaysVal = Math.floor(totalTimeDiff / (1000 * 60 * 60 * 24));
                
                elTotalMonths.textContent = fmt((years * 12) + months);
                elTotalWeeks.textContent = fmt(Math.floor(totalDaysVal / 7));
                elTotalDays.textContent = fmt(totalDaysVal);
                elTotalHours.textContent = fmt(totalDaysVal * 24);
                elTotalMinutes.textContent = fmt(totalDaysVal * 24 * 60);

                // Show Content
                emptyState.classList.add('hidden');
                resultContent.classList.remove('hidden');
            }

            // Events
            calcBtn.addEventListener('click', calculateAge);
            
            resetBtn.addEventListener('click', () => {
                dobInput.value = '';
                asOfInput.value = today;
                emptyState.classList.remove('hidden');
                resultContent.classList.add('hidden');
            });

            copyBtn.addEventListener('click', () => {
                const text = `Age: ${resYears.textContent} Years, ${resMonths.textContent} Months, ${resDays.textContent} Days.\nTotal Days: ${elTotalDays.textContent}`;
                navigator.clipboard.writeText(text).then(() => {
                    const originalHtml = copyBtn.innerHTML;
                    copyBtn.innerHTML = '<i class="fa-solid fa-check text-green-500"></i> Copied!';
                    setTimeout(() => copyBtn.innerHTML = originalHtml, 2000);
                });
            });

        })();
    </script>
</body>
</html>



<!-- <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-adsense-account" content="ca-pub-3793390054330330">
  <script data-ad-client="ca-pub-3793390054330330" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <title>Age Calculator — Free Online Tools</title>
  <style>
    :root{
      --bg-0:#061025; --bg-1:#081229; --card:#071425; --accent:#7c3aed; --accent-2:#ff6b6b; --muted:#9aa4b2; --glass: rgba(255,255,255,0.04);
      --glass-2: rgba(255,255,255,0.02); --success:#34d399; --danger:#ff6b6b; --glass-border: rgba(255,255,255,0.06);
      --radius:12px; --max-width:1040px;
    }

    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,var(--bg-1) 0%, var(--bg-0) 70%);color:#edf2f7;-webkit-font-smoothing:antialiased}
    header.sitebar{padding:20px 20px;text-align:center;background:transparent;box-shadow:0 2px 18px rgba(2,6,23,.4);position:sticky;top:0;z-index:10}
    header.sitebar a{color:#fff;text-decoration:none;margin:0 8px;font-weight:600}
    main.container{display:grid;place-items:center;padding:40px 18px;min-height:calc(100vh - 144px)}
    .card{width:100%;max-width:var(--max-width);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:var(--radius);padding:28px;box-shadow:0 18px 60px rgba(2,6,23,.6);border:1px solid var(--glass-border)}
    .card .grid{display:grid;grid-template-columns:1fr 360px;gap:28px;align-items:start}
    .hero{padding:8px 6px;color:#e6eef9}
    .hero h1{font-size:28px;margin:0 0 6px;color:#fff}
    .hero p{margin:0;color:var(--muted);line-height:1.4}
    .panel{background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(255,255,255,0.02));padding:18px;border-radius:10px;border:1px solid var(--glass)}
    label{display:block;color:#cbd5e1;font-weight:600;font-size:14px;margin-bottom:6px}
    .input-row{display:flex;gap:12px;align-items:center}
    input[type=date], input[type=time], button, select{width:100%;padding:10px 12px;border-radius:8px;border:1px solid var(--glass-border);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:#fff}
    .controls{display:flex;gap:10px;margin-top:14px}
    .btn-primary{background:linear-gradient(90deg,var(--accent),#ff6b6b);border:none;color:white;font-weight:700;cursor:pointer}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .result {padding:18px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.005));color:#e6eef9;border:1px solid var(--glass)}
    .result .big{font-size:28px;font-weight:700;margin-bottom:6px;color:#fff}
    .meta{font-size:13px;color:var(--muted);margin-top:8px}
    .progress-wrap{height:12px;border-radius:999px;background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.015));overflow:hidden;border:1px solid rgba(255,255,255,0.03);margin-top:12px}
    .progress {height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%;transition:width 600ms cubic-bezier(.2,.8,.25,1)}
    .age-breakdown{display:flex;gap:6px;margin-top:10px;flex-wrap:wrap}
    .age-pill{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);font-weight:700}
    .aside {padding:8px 10px;border-radius:8px;background:linear-gradient(180deg,#081025,#071022);border:1px solid rgba(255,255,255,0.03)}
    .secondary {font-size:13px;color:var(--muted)}
    .small {font-size:13px;color:var(--muted)}
    .helper {font-size:13px;color:var(--muted);margin-top:8px}
    .actions {display:flex;gap:10px;align-items:center}
    .copy-btn {background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px;border-radius:8px;color:var(--muted);cursor:pointer}
    footer.sitefoot{padding:18px;text-align:center;color:var(--muted);background:linear-gradient(180deg,transparent,rgba(0,0,0,0.2))}
    @media (max-width:880px){.card .grid{grid-template-columns:1fr;}.aside{order:2}} 
  </style>

</head>

<body>
  <header class="sitebar">
    <a href="index.html">Home</a> ·
    <a href="privacy.html">Privacy</a> ·
    <a href="contact.html">Contact</a>
  </header>

  <main class="container">
    <div class="card" role="region" aria-labelledby="age-title">
      <div class="grid">
        <div class="hero">
          <h1 id="age-title">Age Calculator</h1>
          <p>Quickly compute exact age and useful details — years, months, days, next birthday and days until then. Works entirely in your browser.</p>

          <div class="panel" aria-hidden="false">
            <form id="ageForm" onsubmit="return false" aria-label="Age calculator form">
              <div>
                <label for="dob">Date of birth</label>
                <input id="dob" type="date" aria-required="true" max="9999-12-31">
              </div>

              <div style="margin-top:12px">
                <label for="selectedDate">Calculate as of</label>
                <input id="selectedDate" type="date" aria-required="true">
              </div>

              <div style="margin-top:12px">
                <label for="timeOfBirth">Time of birth (optional)</label>
                <input id="timeOfBirth" type="time" aria-label="Time of birth, optional" />
              </div>
              </div>

              <div class="controls">
                <button id="calculateBtn" class="btn-primary">Calculate</button>
                <button id="resetBtn" class="btn-ghost" type="button">Reset</button>
                <div style="flex:1"></div>
              </div>

              <div class="helper">Tip: If 'Calculate as of' is empty we automatically use today.</div>
            </form>
          </div>

          <div style="height:12px"></div>
        </div>

        <aside class="aside">
          <div class="result" id="resultPanel" aria-live="polite">
            <div class="big" id="resultMain">—</div>
            <div class="secondary" id="resultDetail">Enter your date of birth and click Calculate to view details.</div>
            <div class="age-breakdown" id="ageBreakdown" aria-hidden="true"></div>
            <div class="progress-wrap" aria-hidden="true">
              <div class="progress" id="birthdayProgress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
            </div>
            <div class="meta" id="resultMeta"></div>
            <div class="actions" style="margin-top:12px">
              <button id="copyBtn" class="copy-btn" title="Copy result">Copy</button>
              <div style="flex:1"></div>
              <a class="small" href="index.html">Back to tools</a>
            </div>
          </div>

          <div style="height:8px"></div>
          <div class="small">This calculator is client-side only — no data leaves your browser.</div>
        </aside>
      </div>
    </div>
  </main>

  <script>
    (function () {
      const $ = id => document.getElementById(id);
      const dob = $('dob');
      const asOf = $('selectedDate');
      const timeOfBirth = $('timeOfBirth');
      const calculateBtn = $('calculateBtn');
      const resetBtn = $('resetBtn');
      const resultMain = $('resultMain');
      const resultDetail = $('resultDetail');
      const resultMeta = $('resultMeta');
      const copyBtn = $('copyBtn');

      function setToday(input) {
        if (!input.value) {
          const today = new Date();
          input.value = today.toISOString().slice(0, 10);
        }
      }

      // Populate default 'as of' with today
      document.addEventListener('DOMContentLoaded', () => {
        const today = new Date().toISOString().slice(0, 10);
        if (!asOf.value) asOf.value = today;
      });

      function exactAge(birth, date) {
        if (isNaN(birth) || isNaN(date)) return null;
        if (birth > date) return null;

        let years = date.getFullYear() - birth.getFullYear();
        let months = date.getMonth() - birth.getMonth();
        let days = date.getDate() - birth.getDate();

        if (days < 0) {
          // borrow days from previous month
          const prevMonth = new Date(date.getFullYear(), date.getMonth(), 0); // last day of previous month
          days += prevMonth.getDate();
          months -= 1;
        }

        if (months < 0) {
          months += 12;
          years -= 1;
        }

        return { years, months, days, hours: birthHoursDiff || 0 };
      }

      function daysBetween(a, b) {
        const ms = b - a;
        return Math.ceil(ms / (1000 * 60 * 60 * 24));
      }

      function compute() {
        const d1 = new Date(dob.value);
        const d2 = new Date(asOf.value || new Date());

        if (!dob.value) {
          resultMain.textContent = 'Please enter your date of birth.';
          resultDetail.textContent = '';
          resultMeta.textContent = '';
          return;
        }

        if (d1 > d2) {
          resultMain.textContent = 'Date of birth cannot be after the reference date.';
          resultDetail.textContent = '';
          resultMeta.textContent = '';
          return;
        }

        const age = exactAge(d1, d2);
        if (!age) {
          resultMain.textContent = 'Could not calculate age.';
          return;
        }

        const totalDays = daysBetween(d1, d2);
        const hoursAge = (() => {
          if (!timeOfBirth.value) return null;
          const [h,m] = timeOfBirth.value.split(':').map(Number);
          const birthWithTime = new Date(d1.getFullYear(), d1.getMonth(), d1.getDate(), h || 0, m || 0);
          const asOfWithTime = new Date(d2.getFullYear(), d2.getMonth(), d2.getDate(), (asOf.value && asOf.valueTime)? asOf.valueTime: 0);
          // fallback: treat delta in ms
          return null;
        })();

        resultMain.textContent = `${age.years} years, ${age.months} months, ${age.days} days`;

        // breakdown pills
        const breakdown = [];
        breakdown.push(`<span class="age-pill">${age.years}y</span>`);
        breakdown.push(`<span class="age-pill">${age.months}m</span>`);
        breakdown.push(`<span class="age-pill">${age.days}d</span>`);
        document.getElementById('ageBreakdown').innerHTML = breakdown.join('');
        document.getElementById('ageBreakdown').setAttribute('aria-hidden','false');

        // Additional details
        resultDetail.textContent = `Total time: ${totalDays} day${totalDays !== 1 ? 's' : ''} — calculated as of ${d2.toDateString()}.`;

        // next birthday
        let nextBirthday = new Date(d2.getFullYear(), d1.getMonth(), d1.getDate());
        if (nextBirthday <= d2) nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
        const untilNext = daysBetween(d2, nextBirthday);

        resultMeta.textContent = `Next birthday: ${nextBirthday.toDateString()} (in ${untilNext} day${untilNext !== 1 ? 's' : ''}).`;

        // progress to next birthday
        const yearStart = new Date(nextBirthday.getFullYear()-1, d1.getMonth(), d1.getDate());
        const progressTotal = daysBetween(yearStart, nextBirthday);
        const progressDone = daysBetween(yearStart, d2);
        const pct = Math.max(0, Math.min(100, Math.round((progressDone / progressTotal) * 100)));
        const progressEl = document.getElementById('birthdayProgress');
        progressEl.style.width = pct + '%';
        progressEl.setAttribute('aria-valuenow', pct);
      }

      calculateBtn.addEventListener('click', (e) => {
        e.preventDefault();
        compute();
      });

      resetBtn.addEventListener('click', () => {
        dob.value = '';
        asOf.value = new Date().toISOString().slice(0, 10);
        resultMain.textContent = '—';
        resultDetail.textContent = 'Enter a date and press Calculate to see details.';
        resultMeta.textContent = '';
      });

      copyBtn.addEventListener('click', async () => {
        const text = `${resultMain.textContent}\n${resultDetail.textContent}\n${resultMeta.textContent}`;
        try {
          await navigator.clipboard.writeText(text);
          copyBtn.textContent = 'Copied ✓';
          setTimeout(() => { copyBtn.textContent = 'Copy'; }, 1500);
        } catch (err) {
          copyBtn.textContent = 'Copy failed';
          setTimeout(() => { copyBtn.textContent = 'Copy'; }, 1500);
        }
      });

    })();
  </script>
  <footer style="text-align:center;padding:18px;background:#f4f4f4;margin-top:30px">
    <a href="privacy.html">Privacy</a> • <a href="contact.html">Contact</a>
    <div style="font-size:0.9em;color:#666;margin-top:6px">&copy; Free Online Tools</div>
  </footer>
</body>

</html> -->
