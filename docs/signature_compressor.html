<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-3793390054330330">
    <script data-ad-client="ca-pub-3793390054330330" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <title>Signature Resizer</title>
    <style>
        body {
    font-family: 'Roboto', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
}

.container {
    text-align: center;
    padding: 40px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 15px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    max-width: 500px;
    width: 100%;
}

h1 {
    margin-bottom: 20px;
    font-size: 2em;
    font-weight: bold;
    color: #333;
}

h2,h6 {
    color: #000000;
}

input[type="file"] {
    display: block;
    margin: 20px auto;
    padding: 10px 20px;
    border: 2px solid #764ba2;
    border-radius: 5px;
    background: #fff;
    color: #764ba2;
    cursor: pointer;
    transition: background 0.3s, color 0.3s;
}

input[type="file"]:hover {
    background: #764ba2;
    color: #fff;
}

.preview-container {
    margin: 20px 0;
    display: none;
}

#preview {
    max-width: 100%;
    height: auto;
    border: 2px solid #ddd;
    margin-bottom: 10px;
    border-radius: 10px;
}

#imageInfo {
    margin-bottom: 20px;
    font-size: 14px;
    color: #333;
}

.btn {
    display: inline-block;
    padding: 10px 20px;
    color: #fff;
    background-color: #667eea;
    border-radius: 5px;
    text-decoration: none;
    font-size: 16px;
    transition: background 0.3s;
}

.btn:hover {
    background-color: #4a63d6;
}

.back-btn {
    margin-top: 20px;
    background-color: #e53935;
}

.back-btn:hover {
    background-color: #c62828;
}
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header style="background:#2c3e50;color:#fff;padding:12px 0;text-align:center">
        <nav style="display:flex;gap:12px;justify-content:center;align-items:center;flex-wrap:wrap">
            <a href="index.html" style="color:#fff; text-decoration:none; font-weight:600">Home</a>
            <a href="privacy.html" style="color:#fff; text-decoration:none">Privacy</a>
            <a href="contact.html" style="color:#fff; text-decoration:none">Contact</a>
        </nav>
    </header>
        <main style="padding:28px;max-width:1100px;margin:24px auto;">
            <div style="display:grid;grid-template-columns:1fr 420px;gap:20px;align-items:start">
                <section class="panel" style="padding:20px;border-radius:12px;">
                    <h1 style="margin-top:0;color:#0b1220">Signature Resizer</h1>
                    <p class="small" style="color:#334155">Resize and optimize official signatures for forms (example: 6cm × 2cm for SSC). Works offline in your browser — files are not uploaded.</p>

                    <div style="margin-top:14px;">
                        <label for="imageUpload">Choose a signature image</label>
                        <input type="file" id="imageUpload" accept="image/*" aria-label="Upload signature image">
                    </div>

                    <div style="display:flex;gap:12px;margin-top:12px;align-items:center">
                        <div style="flex:1">
                            <label for="preset">Presets</label>
                            <select id="preset" aria-label="Preset sizes">
                                <option value="640x276">Web (640 × 276 px)</option>
                                <option value="6cmx2cm">Official (6cm × 2cm, 300dpi)</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        <div style="width:110px">
                            <label for="dpi">DPI</label>
                            <input id="dpi" type="number" min="72" max="1200" value="300" style="width:100%">
                        </div>
                    </div>

                    <div id="customInputs" style="display:none;margin-top:12px;gap:12px;display:grid;grid-template-columns:1fr 1fr;">
                        <div>
                            <label for="targetW">Width (px)</label>
                            <input id="targetW" type="number" min="1" inputmode="numeric">
                        </div>
                        <div>
                            <label for="targetH">Height (px)</label>
                            <input id="targetH" type="number" min="1" inputmode="numeric">
                        </div>
                    </div>

                    <div style="display:flex;gap:10px;margin-top:16px;align-items:center">
                        <button id="processBtn" class="btn">Resize & Compress</button>
                        <button id="resetBtn" class="btn back-btn" style="background:#c62828">Reset</button>
                        <div style="flex:1"></div>
                        <button id="downloadBtn" class="btn" style="display:none;">Download</button>
                    </div>

                    <div id="status" style="margin-top:12px;color:#0b1220;font-weight:600"></div>
                </section>

                <aside style="padding:20px;border-radius:12px;background:linear-gradient(180deg,#fff,#f8fafc);">
                    <div id="previewBox" style="display:grid;gap:12px;place-items:center;">
                        <div style="width:100%;max-width:360px;border-radius:8px;padding:10px;background:#fff;border:1px solid rgba(10,15,25,0.04)">
                            <img id="preview" src="" alt="Signature preview" style="display:none;width:100%;height:auto;border-radius:6px;object-fit:contain;" />
                        </div>
                        <div id="imageInfo" style="width:100%;font-size:14px;color:#475569"></div>
                        <div style="width:100%;display:flex;gap:8px;justify-content:center">
                            <button id="copyBtn" class="btn" style="background:#0f172a;">Copy Data</button>
                            <button id="openBtn" class="btn btn-ghost" style="background:transparent;border:1px solid rgba(10,15,25,0.06)">Open</button>
                        </div>
                    </div>
                    <div style="margin-top:18px;font-size:13px;color:#64748b">Notes: output is a resized and compressed image. If you need exact DPI printing, check the chosen value and use a PDF/print workflow.</div>
                </aside>
            </div>
            <canvas id="canvas" style="display:none"></canvas>
        </main>
        <script>
            (function () {
                const $ = id => document.getElementById(id);
                const imageUpload = $('imageUpload');
                const preset = $('preset');
                const dpi = $('dpi');
                const customInputs = $('customInputs');
                const targetW = $('targetW');
                const targetH = $('targetH');
                const processBtn = $('processBtn');
                const resetBtn = $('resetBtn');
                const downloadBtn = $('downloadBtn');
                const canvas = $('canvas');
                const ctx = canvas.getContext('2d');
                const preview = $('preview');
                const imageInfo = $('imageInfo');
                const status = $('status');
                const copyBtn = $('copyBtn');
                const openBtn = $('openBtn');

                function cmToPx(cm, dpiVal) {
                    return Math.round((cm / 2.54) * dpiVal);
                }

                function setPreset(p) {
                    if (p === '640x276') {
                        targetW.value = 640; targetH.value = 276; customInputs.style.display = 'none';
                    } else if (p === '6cmx2cm') {
                        const w = cmToPx(6, Number(dpi.value || 300));
                        const h = cmToPx(2, Number(dpi.value || 300));
                        targetW.value = w; targetH.value = h; customInputs.style.display = 'none';
                    } else {
                        customInputs.style.display = 'grid';
                        targetW.value = '';
                        targetH.value = '';
                    }
                }

                preset.addEventListener('change', (e) => setPreset(e.target.value));
                dpi.addEventListener('change', () => { if (preset.value === '6cmx2cm') setPreset('6cmx2cm'); });

                let lastBlobURL = null;

                function clearPreview() {
                    preview.src = '';
                    preview.style.display = 'none';
                    imageInfo.textContent = '';
                    if (lastBlobURL) { URL.revokeObjectURL(lastBlobURL); lastBlobURL = null; }
                    downloadBtn.style.display = 'none';
                    status.textContent = '';
                }

                resetBtn.addEventListener('click', () => {
                    imageUpload.value = '';
                    preset.value = '640x276';
                    dpi.value = 300;
                    setPreset('640x276');
                    clearPreview();
                });

                imageUpload.addEventListener('change', () => {
                    clearPreview();
                    status.textContent = '';
                    const f = imageUpload.files[0];
                    if (!f) return;
                    const reader = new FileReader();
                    reader.onload = (ev) => {
                        preview.src = ev.target.result;
                        preview.style.display = 'block';
                        imageInfo.textContent = `Original: ${Math.round(f.size/1024)} KB — ${f.type}`;
                    };
                    reader.readAsDataURL(f);
                });

                processBtn.addEventListener('click', async () => {
                    const f = imageUpload.files[0];
                    if (!f) { status.textContent = 'Please upload an image first.'; return; }

                    // determine target
                    let w = Number(targetW.value || 0);
                    let h = Number(targetH.value || 0);
                    if (!w || !h) { status.textContent = 'Please set valid target width and height.'; return; }

                    // load image
                    status.textContent = 'Processing…';
                    const dataUrl = await fileToDataURL(f);
                    const img = await loadImage(dataUrl);

                    // set canvas
                    canvas.width = w;
                    canvas.height = h;
                    // maintain aspect ratio by center-cover logic
                    const srcW = img.width, srcH = img.height;
                    const srcRatio = srcW / srcH, destRatio = w / h;
                    let sx = 0, sy = 0, sWidth = srcW, sHeight = srcH;
                    if (srcRatio > destRatio) {
                        // source wider, crop horizontally
                        sWidth = Math.round(srcH * destRatio);
                        sx = Math.floor((srcW - sWidth)/2);
                    } else if (srcRatio < destRatio) {
                        // source taller, crop vertically
                        sHeight = Math.round(srcW / destRatio);
                        sy = Math.floor((srcH - sHeight)/2);
                    }

                    ctx.clearRect(0,0,w,h);
                    ctx.drawImage(img, sx, sy, sWidth, sHeight, 0, 0, w, h);

                    // compress progressively to try to reach small size (aim ~25KB)
                    let quality = 0.95, blob = null;
                    for (let attempt=0; attempt<10; attempt++) {
                        const blobTmp = await canvasToBlob(canvas, quality);
                        if (!blobTmp) break;
                        const kb = blobTmp.size/1024;
                        blob = blobTmp;
                        if (kb <= 30 || quality < 0.2) break;
                        quality -= 0.12;
                    }

                    if (!blob) { status.textContent = 'Failed to compress image'; return; }

                    // show preview and allow download
                    if (lastBlobURL) URL.revokeObjectURL(lastBlobURL);
                    lastBlobURL = URL.createObjectURL(blob);
                    preview.src = lastBlobURL;
                    preview.style.display = 'block';

                    imageInfo.textContent = `Output: ${Math.round(blob.size/1024)} KB — ${w} × ${h} px (quality ${Math.round((quality||0)*100)}%)`;
                    downloadBtn.style.display = 'inline-block';
                    downloadBtn.href = lastBlobURL;
                    downloadBtn.download = `signature_${w}x${h}.jpg`;
                    status.textContent = 'Done — preview updated';
                });

                copyBtn.addEventListener('click', async () => {
                    try {
                        await navigator.clipboard.writeText(imageInfo.textContent || '');
                        copyBtn.textContent = 'Copied ✓';
                        setTimeout(()=>copyBtn.textContent='Copy Data',1400);
                    } catch(e) { copyBtn.textContent='Copy failed'; setTimeout(()=>copyBtn.textContent='Copy Data',1400); }
                });

                openBtn.addEventListener('click', () => {
                    if (preview.src) window.open(preview.src, '_blank');
                });

                function fileToDataURL(file) {
                    return new Promise(resolve => { const r=new FileReader(); r.onload=(e)=>resolve(e.target.result); r.readAsDataURL(file); });
                }

                function loadImage(dataUrl) { return new Promise((res,rej)=>{ const i=new Image(); i.onload=()=>res(i); i.onerror=rej; i.src=dataUrl; }); }

                function canvasToBlob(canvasEl, q){ return new Promise(r=> canvasEl.toBlob(b=>r(b),'image/jpeg',q)); }

                // set initial preset values
                setPreset('640x276');

            })();
        </script>
            <footer style="text-align:center;padding:18px;background:#f4f4f4;margin-top:30px">
                <a href="privacy.html">Privacy</a> • <a href="contact.html">Contact</a>
                <div style="font-size:0.9em;color:#666;margin-top:6px">&copy; Free Online Tools</div>
            </footer>
    </body>
    </html>