<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Resume Builder | CV Maker Online</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Create professional resumes online for free. Fill in your details and download a formatted PDF CV instantly. No signup required.">
    <meta name="keywords" content="resume builder, free cv maker, online resume creator, pdf resume, job cv tool, curriculum vitae maker">
    <meta name="author" content="Free Online Tools">

    <!-- Open Graph -->
    <meta property="og:title" content="Free Resume Builder">
    <meta property="og:description" content="Build a professional resume in minutes and download as PDF.">
    
    <!-- User's AdSense -->
    <meta name="google-adsense-account" content="ca-pub-3793390054330330">
    <script data-ad-client="ca-pub-3793390054330330" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- html2pdf.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .fade-in { animation: fadeIn 0.4s ease-out forwards; opacity: 0; transform: translateY(10px); }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
        
        /* A4 Paper Dimensions for Screen */
        .a4-page {
            width: 210mm;
            min-height: 297mm;
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin: 0 auto;
        }

        /* Resume Typography */
        .resume-font { font-family: 'Merriweather', serif; }
        
        /* Print Styles */
        @media print {
            body * { visibility: hidden; }
            #resumePreview, #resumePreview * { visibility: visible; }
            #resumePreview { position: absolute; left: 0; top: 0; width: 100%; margin: 0; box-shadow: none; }
            .no-print { display: none !important; }
            .page-break { page-break-before: always; }
        }

        /* Editable Input Highlight */
        input:focus, textarea:focus {
            outline: 2px solid #6366f1;
            outline-offset: 1px;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen text-slate-800">

    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="bg-indigo-600 text-white p-2 rounded-lg">
                        <i class="fa-solid fa-user-tie"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight text-gray-900">ResumeBuilder</span>
                </div>
                <div class="flex items-center gap-6 text-sm font-medium text-gray-500">
                    <a href="index.html" class="hover:text-indigo-600 transition">Home</a>
                    <a href="contact.html" class="hover:text-indigo-600 transition">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-[1400px] mx-auto px-4 py-8 w-full">
        
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
            
            <!-- Left Column: Editor -->
            <div class="lg:col-span-5 space-y-6 no-print h-[calc(100vh-100px)] overflow-y-auto pr-2 custom-scrollbar">
                
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-pen-to-square text-indigo-500"></i> Personal Details
                    </h3>
                    <div class="space-y-4">
                        <!-- Photo Upload -->
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 bg-gray-100 rounded-full overflow-hidden border border-gray-200 flex-shrink-0">
                                <img id="thumbPhoto" src="https://via.placeholder.com/150" class="w-full h-full object-cover opacity-50">
                            </div>
                            <label class="cursor-pointer bg-indigo-50 text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-100 transition">
                                Upload Photo
                                <input type="file" accept="image/*" class="hidden" onchange="updatePhoto(this)">
                            </label>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <input type="text" id="inName" placeholder="Full Name" class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updatePreview('name', this.value)">
                            <input type="text" id="inJob" placeholder="Job Title (e.g. Web Developer)" class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updatePreview('job', this.value)">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <input type="email" id="inEmail" placeholder="Email Address" class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updatePreview('email', this.value)">
                            <input type="text" id="inPhone" placeholder="Phone Number" class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updatePreview('phone', this.value)">
                        </div>
                        <input type="text" id="inAddress" placeholder="City, Country" class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updatePreview('address', this.value)">
                        <input type="text" id="inWebsite" placeholder="Website / Portfolio Link" class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updatePreview('website', this.value)">
                        
                        <textarea id="inSummary" rows="3" placeholder="Professional Summary..." class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updatePreview('summary', this.value)"></textarea>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-briefcase text-indigo-500"></i> Experience
                    </h3>
                    <div id="expList" class="space-y-4">
                        <!-- Dynamic Experience Items -->
                    </div>
                    <button onclick="addExperience()" class="mt-2 w-full py-2 border border-dashed border-gray-300 text-gray-500 rounded-lg text-sm hover:border-indigo-400 hover:text-indigo-600 transition">
                        + Add Experience
                    </button>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-graduation-cap text-indigo-500"></i> Education
                    </h3>
                    <div id="eduList" class="space-y-4">
                        <!-- Dynamic Education Items -->
                    </div>
                    <button onclick="addEducation()" class="mt-2 w-full py-2 border border-dashed border-gray-300 text-gray-500 rounded-lg text-sm hover:border-indigo-400 hover:text-indigo-600 transition">
                        + Add Education
                    </button>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-star text-indigo-500"></i> Skills
                    </h3>
                    <input type="text" placeholder="Add skills separated by comma (e.g. HTML, CSS, JavaScript)" class="w-full border-gray-300 rounded-lg text-sm p-2.5 border" oninput="updateSkills(this.value)">
                </div>
                
                <!-- Actions -->
                <div class="sticky bottom-0 bg-white p-4 border-t border-gray-200 rounded-xl shadow-lg z-10 flex gap-4">
                    <div class="flex-1">
                        <label class="block text-xs font-bold text-gray-500 mb-1 uppercase">Accent Color</label>
                        <div class="flex gap-2">
                            <button onclick="setColor('#4f46e5')" class="w-6 h-6 rounded-full bg-indigo-600 hover:ring-2 ring-offset-1 ring-indigo-600"></button>
                            <button onclick="setColor('#2563eb')" class="w-6 h-6 rounded-full bg-blue-600 hover:ring-2 ring-offset-1 ring-blue-600"></button>
                            <button onclick="setColor('#dc2626')" class="w-6 h-6 rounded-full bg-red-600 hover:ring-2 ring-offset-1 ring-red-600"></button>
                            <button onclick="setColor('#059669')" class="w-6 h-6 rounded-full bg-emerald-600 hover:ring-2 ring-offset-1 ring-emerald-600"></button>
                            <button onclick="setColor('#0f172a')" class="w-6 h-6 rounded-full bg-slate-900 hover:ring-2 ring-offset-1 ring-slate-900"></button>
                        </div>
                    </div>
                    <button onclick="downloadPDF()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg shadow transition flex items-center gap-2">
                        <i class="fa-solid fa-download"></i> Download
                    </button>
                </div>

            </div>

            <!-- Right Column: Preview (A4 Page) -->
            <div class="lg:col-span-7 flex justify-center bg-gray-200/50 p-4 rounded-xl border border-gray-200 overflow-x-auto">
                
                <div id="resumePreview" class="a4-page p-8 md:p-12 relative text-slate-800 bg-white">
                    <!-- Resume Content -->
                    
                    <!-- Header -->
                    <div class="flex items-start justify-between mb-8 border-b-2 border-indigo-600 pb-6 theme-border">
                        <div class="flex-1">
                            <h1 id="prevName" class="text-4xl font-bold text-gray-900 mb-1 uppercase tracking-wide theme-text">Your Name</h1>
                            <p id="prevJob" class="text-xl text-gray-600 font-light mb-4">Job Title</p>
                            
                            <div class="text-sm text-gray-500 space-y-1">
                                <p id="prevEmail" class="flex items-center gap-2"><i class="fa-solid fa-envelope w-4"></i> email@example.com</p>
                                <p id="prevPhone" class="flex items-center gap-2"><i class="fa-solid fa-phone w-4"></i> +123 456 7890</p>
                                <p id="prevAddress" class="flex items-center gap-2"><i class="fa-solid fa-location-dot w-4"></i> City, Country</p>
                                <p id="prevWebsite" class="flex items-center gap-2 hidden"><i class="fa-solid fa-globe w-4"></i> website.com</p>
                            </div>
                        </div>
                        
                        <div class="w-32 h-32 bg-gray-100 rounded-lg overflow-hidden border border-gray-200 flex-shrink-0 ml-6">
                            <img id="prevPhoto" src="" class="w-full h-full object-cover hidden">
                            <div id="photoPlaceholder" class="w-full h-full flex items-center justify-center text-gray-300">
                                <i class="fa-solid fa-user text-4xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Summary -->
                    <div class="mb-8">
                        <h3 class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-3 border-b border-gray-200 pb-1">Professional Summary</h3>
                        <p id="prevSummary" class="text-sm leading-relaxed text-gray-700 resume-font">
                            Experienced professional with a strong background in... (Start typing to update)
                        </p>
                    </div>

                    <!-- Experience -->
                    <div class="mb-8">
                        <h3 class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-4 border-b border-gray-200 pb-1">Experience</h3>
                        <div id="prevExpList" class="space-y-4">
                            <!-- Items will appear here -->
                            <p class="text-xs text-gray-400 italic">Add experience details to see them here.</p>
                        </div>
                    </div>

                    <!-- Education -->
                    <div class="mb-8">
                        <h3 class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-4 border-b border-gray-200 pb-1">Education</h3>
                        <div id="prevEduList" class="space-y-4">
                            <p class="text-xs text-gray-400 italic">Add education details to see them here.</p>
                        </div>
                    </div>

                    <!-- Skills -->
                    <div class="mb-8">
                        <h3 class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-3 border-b border-gray-200 pb-1">Skills</h3>
                        <div id="prevSkills" class="flex flex-wrap gap-2">
                            <!-- Skills tags -->
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </main>

    <script>
        (function() {
            // State
            let accentColor = '#4f46e5'; // Default Indigo

            // Initial Data Population
            window.updatePreview = function(field, value) {
                const el = document.getElementById('prev' + field.charAt(0).toUpperCase() + field.slice(1));
                if(el) {
                    el.textContent = value;
                    if(field === 'website') {
                        value ? el.classList.remove('hidden') : el.classList.add('hidden');
                    }
                }
            }

            window.updatePhoto = function(input) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = document.getElementById('prevPhoto');
                        const thumb = document.getElementById('thumbPhoto');
                        const ph = document.getElementById('photoPlaceholder');
                        
                        img.src = e.target.result;
                        thumb.src = e.target.result;
                        
                        img.classList.remove('hidden');
                        thumb.classList.remove('opacity-50');
                        ph.classList.add('hidden');
                    }
                    reader.readAsDataURL(input.files[0]);
                }
            }

            window.updateSkills = function(value) {
                const container = document.getElementById('prevSkills');
                container.innerHTML = '';
                if(!value) return;
                
                const skills = value.split(',');
                skills.forEach(skill => {
                    const s = skill.trim();
                    if(s) {
                        const span = document.createElement('span');
                        span.className = "bg-gray-100 text-gray-700 px-3 py-1 rounded text-xs font-semibold border border-gray-200";
                        span.textContent = s;
                        container.appendChild(span);
                    }
                });
            }

            window.setColor = function(color) {
                accentColor = color;
                // Update CSS variables or inline styles
                document.querySelectorAll('.theme-text').forEach(el => el.style.color = color);
                document.querySelectorAll('.theme-border').forEach(el => el.style.borderColor = color);
            }
            
            // --- Dynamic Lists (Experience) ---
            let expCount = 0;
            window.addExperience = function() {
                expCount++;
                const id = expCount;
                
                // Form UI
                const formDiv = document.createElement('div');
                formDiv.className = "p-4 border border-gray-200 rounded-lg bg-gray-50 relative group";
                formDiv.innerHTML = `
                    <button onclick="removeExp(${id}, this)" class="absolute top-2 right-2 text-gray-400 hover:text-red-500"><i class="fa-solid fa-trash"></i></button>
                    <div class="grid grid-cols-2 gap-3 mb-2">
                        <input type="text" placeholder="Job Title" class="w-full border-gray-300 rounded text-sm p-2" oninput="updateExp(${id}, 'title', this.value)">
                        <input type="text" placeholder="Company Name" class="w-full border-gray-300 rounded text-sm p-2" oninput="updateExp(${id}, 'company', this.value)">
                    </div>
                    <div class="grid grid-cols-2 gap-3 mb-2">
                        <input type="text" placeholder="Start Date" class="w-full border-gray-300 rounded text-sm p-2" oninput="updateExp(${id}, 'start', this.value)">
                        <input type="text" placeholder="End Date" class="w-full border-gray-300 rounded text-sm p-2" oninput="updateExp(${id}, 'end', this.value)">
                    </div>
                    <textarea rows="2" placeholder="Description..." class="w-full border-gray-300 rounded text-sm p-2" oninput="updateExp(${id}, 'desc', this.value)"></textarea>
                `;
                document.getElementById('expList').appendChild(formDiv);

                // Preview UI
                const prevDiv = document.createElement('div');
                prevDiv.id = `prevExp-${id}`;
                prevDiv.className = "mb-4";
                prevDiv.innerHTML = `
                    <div class="flex justify-between items-baseline mb-1">
                        <h4 class="font-bold text-gray-800 text-sm exp-title">Job Title</h4>
                        <span class="text-xs text-gray-500 font-medium exp-date">Date - Date</span>
                    </div>
                    <p class="text-xs text-indigo-600 font-semibold mb-1 theme-text exp-company">Company Name</p>
                    <p class="text-sm text-gray-600 resume-font leading-relaxed exp-desc">Description goes here...</p>
                `;
                
                const container = document.getElementById('prevExpList');
                // Clear placeholder if first item
                if(container.querySelector('.italic')) container.innerHTML = '';
                container.appendChild(prevDiv);
                
                // Apply theme color
                setColor(accentColor);
            }

            window.updateExp = function(id, field, value) {
                const container = document.getElementById(`prevExp-${id}`);
                if(!container) return;
                
                if(field === 'title') container.querySelector('.exp-title').textContent = value;
                if(field === 'company') container.querySelector('.exp-company').textContent = value;
                if(field === 'desc') container.querySelector('.exp-desc').textContent = value;
                
                if(field === 'start' || field === 'end') {
                    // This is tricky as we need both. Let's just update the whole date string in a simpler way or store state.
                    // For simplicity, we assume user types what they want.
                    // Ideally we should store state, but direct DOM manipulation is faster for this simple tool.
                    // Let's find inputs again to combine. Not efficient but works without complex state.
                    // Better: Just update the specific part? No, single span.
                    // Workaround: We won't combine automatically here to keep code small. 
                    // Let's assume user types "Jan 2020" in start and "Present" in end.
                    // We will update the span text content by reading inputs from form.
                    // But we don't have direct ref to form inputs from here easily.
                    // OK, let's use the value passed.
                    // Actually, let's just make the user type "Jan 2020 - Present" in a single box? 
                    // No, 2 boxes is better.
                    // Let's update the span by finding the specific input in DOM.
                    // Hard to link back.
                    // Let's just update based on what changed, assuming simple "Start - End" format.
                    // We will skip complex logic and just replace text for now or update full string if we had state.
                    
                    // Simple fix: Store values on the preview element dataset
                    if(field === 'start') container.dataset.start = value;
                    if(field === 'end') container.dataset.end = value;
                    
                    const s = container.dataset.start || 'Start';
                    const e = container.dataset.end || 'End';
                    container.querySelector('.exp-date').textContent = `${s} - ${e}`;
                }
            }

            window.removeExp = function(id, btn) {
                btn.parentElement.remove();
                const prev = document.getElementById(`prevExp-${id}`);
                if(prev) prev.remove();
            }

            // --- Dynamic Lists (Education) - Similar Logic ---
            let eduCount = 0;
            window.addEducation = function() {
                eduCount++;
                const id = eduCount;
                
                const formDiv = document.createElement('div');
                formDiv.className = "p-4 border border-gray-200 rounded-lg bg-gray-50 relative group";
                formDiv.innerHTML = `
                    <button onclick="removeEdu(${id}, this)" class="absolute top-2 right-2 text-gray-400 hover:text-red-500"><i class="fa-solid fa-trash"></i></button>
                    <div class="mb-2">
                        <input type="text" placeholder="Degree / Course" class="w-full border-gray-300 rounded text-sm p-2" oninput="updateEdu(${id}, 'degree', this.value)">
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        <input type="text" placeholder="University / School" class="w-full border-gray-300 rounded text-sm p-2" oninput="updateEdu(${id}, 'school', this.value)">
                        <input type="text" placeholder="Year" class="w-full border-gray-300 rounded text-sm p-2" oninput="updateEdu(${id}, 'year', this.value)">
                    </div>
                `;
                document.getElementById('eduList').appendChild(formDiv);

                const prevDiv = document.createElement('div');
                prevDiv.id = `prevEdu-${id}`;
                prevDiv.className = "flex justify-between items-start";
                prevDiv.innerHTML = `
                    <div>
                        <h4 class="font-bold text-gray-800 text-sm edu-degree">Degree Name</h4>
                        <p class="text-xs text-gray-600 edu-school">University Name</p>
                    </div>
                    <span class="text-xs text-gray-500 font-medium edu-year">Year</span>
                `;
                
                const container = document.getElementById('prevEduList');
                if(container.querySelector('.italic')) container.innerHTML = '';
                container.appendChild(prevDiv);
            }

            window.updateEdu = function(id, field, value) {
                const container = document.getElementById(`prevEdu-${id}`);
                if(!container) return;
                if(field === 'degree') container.querySelector('.edu-degree').textContent = value;
                if(field === 'school') container.querySelector('.edu-school').textContent = value;
                if(field === 'year') container.querySelector('.edu-year').textContent = value;
            }

            window.removeEdu = function(id, btn) {
                btn.parentElement.remove();
                const prev = document.getElementById(`prevEdu-${id}`);
                if(prev) prev.remove();
            }

            // --- Download ---
            window.downloadPDF = function() {
                const element = document.getElementById('resumePreview');
                const name = document.getElementById('inName').value || 'Resume';
                
                const opt = {
                    margin: 0,
                    filename: `${name}_Resume.pdf`,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2 },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };

                // Add loading state
                const btn = document.querySelector('button[onclick="downloadPDF()"]');
                const oldText = btn.innerHTML;
                btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Generating...';
                btn.disabled = true;

                html2pdf().set(opt).from(element).save().then(() => {
                    btn.innerHTML = oldText;
                    btn.disabled = false;
                });
            }
            
            // Init
            setColor(accentColor); // Set initial color
            addExperience(); // Add one empty slot
            addEducation();  // Add one empty slot

        })();
    </script>
</body>
</html>