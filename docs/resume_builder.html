<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Resume Builder | ATS Friendly & Auto-Save</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Build your resume by editing directly on the template. Features ATS-friendly layouts (selectable text), voice typing, auto-save, and instant PDF download.">
    <meta name="keywords" content="resume builder, direct edit resume, voice typing cv, free cv maker, online resume creator, pdf resume, ats resume, auto save resume">
    <meta name="author" content="Free Online Tools">

    <!-- Open Graph -->
    <meta property="og:title" content="Smart Resume Builder">
    <meta property="og:description" content="Edit your resume directly. ATS-Friendly, Auto-Save, and Modern templates.">
    
    <!-- User's AdSense -->
    <meta name="google-adsense-account" content="ca-pub-3793390054330330">
    <script data-ad-client="ca-pub-3793390054330330" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@300;400;700&family=Roboto:wght@400;500;700&family=Lora:wght@400;500;600&family=Tinos:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        .fade-in { animation: fadeIn 0.4s ease-out forwards; opacity: 0; transform: translateY(10px); }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
        
        /* A4 Paper Dimensions */
        .a4-page {
            width: 210mm;
            min-height: 297mm;
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin: 0 auto;
            padding: 12mm;
            position: relative;
            box-sizing: border-box;
            overflow: hidden; 
        }

        /* Resume Typography & Templates */
        .resume-font { font-family: 'Merriweather', serif; }
        
        /* ATS Template Styles */
        .template-ats .a4-page { font-family: 'Roboto', sans-serif; color: #000; }
        .template-ats .theme-text { color: #000 !important; }
        .template-ats .theme-border { border-color: #000 !important; border-bottom-width: 1px; }
        .template-ats .resume-grid { display: block !important; } 
        .template-ats .photo-container { display: none !important; }
        .template-ats .header-container { text-align: left !important; border-bottom: 2px solid #000; padding-bottom: 10px; }
        .template-ats .header-contact { justify-content: flex-start !important; }
        .template-ats h1 { font-size: 2.2rem; text-transform: uppercase; }
        .template-ats .resume-sidebar { margin-top: 2rem; }
        
        /* Simple (Classic) Template Styles */
        .template-simple .a4-page { font-family: 'Lora', serif; color: #1f2937; }
        .template-simple .theme-text { color: #374151 !important; }
        .template-simple .theme-border { border-color: #d1d5db !important; border-bottom-width: 1px; }
        .template-simple .resume-grid { display: block !important; } 
        .template-simple .photo-container { display: none !important; } 
        .template-simple .header-container { display: block !important; text-align: center !important; border-bottom: 1px solid #d1d5db; padding-bottom: 15px; margin-bottom: 20px; }
        .template-simple .header-contact { justify-content: center !important; margin-top: 10px; }
        .template-simple h1 { font-size: 2.2rem; text-transform: uppercase; letter-spacing: 1px; color: #111827; }
        .template-simple h3 { text-align: center; text-transform: uppercase; letter-spacing: 1px; font-size: 1rem; color: #111827; border-bottom: 1px solid #e5e7eb; padding-bottom: 4px; }
        .template-simple .resume-sidebar { margin-top: 2rem; }
        
        /* Creative Template Styles */
        .template-creative .header-bg { background-color: var(--accent-color, #4f46e5); margin: -12mm -12mm 20px -12mm; padding: 12mm; color: white; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        .template-creative .header-bg h1, .template-creative .header-bg h2, .template-creative .header-bg i { color: white !important; }
        .template-creative .header-bg .header-contact { justify-content: center; }
        .template-creative .header-container { text-align: center; border: none; padding-bottom: 0; }

        /* --- FORMAL INDIAN LAYOUT STYLES --- */
        .layout-formal {
            font-family: 'Tinos', serif;
            color: #000;
            line-height: 1.5;
            display: none; 
            height: 100%;
            border: 3px double #000;
            padding: 20px;
        }
        .layout-formal.active { display: block; }
        
        .formal-title {
            text-align: center;
            font-weight: bold;
            font-size: 24px;
            text-decoration: underline;
            text-transform: uppercase;
            margin-bottom: 30px;
        }
        
        .formal-section-title {
            font-weight: bold;
            font-size: 16px;
            text-decoration: underline;
            margin-top: 20px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
        }
        .formal-section-title::before { content: "‚ùñ"; font-size: 14px; }
        
        .formal-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 14px;
        }
        .formal-table th, .formal-table td {
            border: 1px solid #000;
            padding: 5px 8px;
            text-align: left;
        }
        .formal-table th { font-weight: bold; text-align: center; background-color: #f3f3f3; -webkit-print-color-adjust: exact; }
        
        .formal-info-grid {
            display: grid;
            grid-template-columns: 180px 20px 1fr 30px; 
            gap: 5px;
            font-size: 15px;
        }
        .formal-label { font-weight: 500; }
        
        .formal-info-row { display: contents; }
        .formal-info-row.hidden { display: none; }
        
        /* Hover Delete Button */
        .field-delete-btn {
            color: #ef4444;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .formal-info-row:hover .field-delete-btn { opacity: 1; }

        /* Restore Menu */
        .restore-menu {
            position: absolute;
            background: white;
            border: 1px solid #cbd5e1;
            padding: 8px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 50;
            top: 100%;
            left: 0;
            min-width: 160px;
            display: none;
            flex-direction: column;
            gap: 4px;
        }
        .restore-menu.active { display: flex; }
        .restore-item {
            font-size: 12px;
            padding: 6px 10px;
            cursor: pointer;
            color: #1e293b;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .restore-item:hover { background-color: #f1f5f9; color: #4f46e5; }
        
        .formal-footer {
            margin-top: 50px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            padding-top: 20px;
        }

        /* Editable Areas */
        [contenteditable]:empty:before { content: attr(placeholder); color: #cbd5e1; pointer-events: none; display: block; }
        [contenteditable] { border: 1px dashed transparent; transition: all 0.2s; border-radius: 2px; }
        [contenteditable]:hover { border-color: #e2e8f0; background-color: #f8fafc; cursor: text; }
        [contenteditable]:focus { border-color: #6366f1; background-color: #ffffff; outline: none; box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1); }
        
        ul[contenteditable] { list-style-type: disc; padding-left: 1.5rem; }
        ul[contenteditable]:empty:before { margin-left: -1.5rem; }

        /* Floating Toolbar */
        .floating-toolbar {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px);
            padding: 10px 20px; border-radius: 50px; display: flex; gap: 15px;
            align-items: center; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
            z-index: 100; transition: all 0.3s; flex-wrap: wrap; justify-content: center;
        }
        
        .mic-active { background-color: #ef4444 !important; animation: pulse-mic 1.5s infinite; }
        @keyframes pulse-mic { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }

        .ui-control { opacity: 0; transition: opacity 0.2s; }
        .group\/item:hover .ui-control, .group\/section:hover .ui-control, .formal-row:hover .ui-control { opacity: 1; }
        
        .sections-menu { position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%); background: white; border-radius: 12px; padding: 10px; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2); width: 200px; display: none; flex-direction: column; gap: 5px; z-index: 101; }
        .sections-menu.active { display: flex; }
        .section-toggle-item { display: flex; align-items: center; gap: 10px; font-size: 13px; color: #334155; cursor: pointer; padding: 5px; border-radius: 6px; }
        .section-toggle-item:hover { background-color: #f1f5f9; }
        
        .suggestion-box { position: absolute; background: white; border: 1px solid #e2e8f0; border-radius: 6px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); max-height: 200px; overflow-y: auto; z-index: 1000; min-width: 200px; font-size: 14px; display: none; }
        .suggestion-item { padding: 8px 12px; cursor: pointer; color: #334155; }
        .suggestion-item:hover, .suggestion-item.active { background-color: #f1f5f9; color: #4f46e5; }
        
        @media print {
            body { background: white; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            nav, .floating-toolbar, .ui-control, .suggestion-box, .no-print, .text-center.mb-6, .field-delete-btn, .add-row-btn { display: none !important; }
            main { padding: 0; margin: 0; max-width: none; width: 100%; overflow: visible; }
            .flex.justify-center.bg-gray-200\/50 { background: none; padding: 0; border: none; display: block; overflow: visible; }
            .a4-page { box-shadow: none; margin: 0; padding: 12mm; width: 100%; min-height: auto; border: none; overflow: visible; }
            .layout-formal.active { border: 3px double #000 !important; }
            [contenteditable] { border: none !important; background: transparent !important; }
            [contenteditable]:empty { display: none; }
            h3, h2, h1, .formal-section-title { page-break-after: avoid; }
            .group\/item, tr { page-break-inside: avoid; }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen text-slate-800" id="bodyRoot">

    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="bg-indigo-600 text-white p-2 rounded-lg"><i class="fa-solid fa-file-pen"></i></div>
                    <span class="font-bold text-xl tracking-tight text-gray-900">ResumeBuilder</span>
                </div>
                <div class="flex items-center gap-6 text-sm font-medium text-gray-500">
                    <a href="index.html" class="hover:text-indigo-600 transition">Home</a>
                    <a href="contact.html" class="hover:text-indigo-600 transition">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-grow w-full py-8 overflow-x-hidden">
        
        <div class="text-center mb-6 no-print">
            <span class="bg-green-100 text-green-800 text-xs font-bold px-2 py-1 rounded border border-green-200 mr-2">AUTO SAVE ON</span>
            <span class="text-sm text-gray-500">Changes are saved automatically. Try the <b>Formal (Indian)</b> template for gov jobs.</span>
        </div>

        <div class="flex justify-center bg-gray-200/50 p-4 rounded-xl border border-gray-200 overflow-x-auto mx-auto max-w-min">
            
            <div id="resumeArea" class="a4-page relative bg-white">
                
                <!-- ============================
                     LAYOUT 1: STANDARD / ATS
                     ============================ -->
                <div id="layout-standard" class="layout-standard h-full">
                     <div class="header-bg-wrapper">
                        <div class="header-container flex flex-col md:flex-row gap-8 items-center md:items-start border-b-2 border-indigo-600 pb-8 mb-8 theme-border">
                            <div class="photo-container relative group cursor-pointer flex-shrink-0" onclick="document.getElementById('photoInput').click()">
                                <div class="w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-lg bg-gray-100 flex items-center justify-center relative">
                                    <img id="profilePhoto" src="" class="w-full h-full object-cover hidden">
                                    <i id="photoIcon" class="fa-solid fa-camera text-3xl text-gray-300"></i>
                                </div>
                                <input type="file" id="photoInput" class="hidden" accept="image/*" onchange="loadPhoto(event)">
                            </div>
                            <div class="flex-grow text-center md:text-left w-full">
                                <h1 class="text-4xl font-bold text-gray-900 mb-2 uppercase tracking-tight theme-text editable-field" contenteditable="true" placeholder="YOUR NAME" data-key="name"></h1>
                                <h2 class="text-xl text-gray-600 font-light mb-4 editable-field" contenteditable="true" placeholder="Job Title" data-key="job" data-suggest="job"></h2>
                                <div class="header-contact flex flex-wrap gap-4 text-sm text-gray-500 justify-center md:justify-start">
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-envelope theme-text"></i><span class="editable-field" contenteditable="true" placeholder="email" data-key="email"></span></div>
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-phone theme-text"></i><span class="editable-field" contenteditable="true" placeholder="phone" data-key="phone"></span></div>
                                    <div class="flex items-center gap-2"><i class="fa-solid fa-location-dot theme-text"></i><span class="editable-field" contenteditable="true" placeholder="address" data-key="address"></span></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="resume-grid grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="md:col-span-2 space-y-8">
                            <section class="section-hover relative" id="secSummary">
                                <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-3 border-b border-gray-200 pb-1 theme-border">Summary</h3>
                                <p class="text-sm leading-relaxed text-gray-700 resume-font editable-field" contenteditable="true" placeholder="Write summary..." data-key="summary"></p>
                            </section>
                            <section class="section-hover relative group/section" id="secExperience">
                                <div class="flex justify-between items-center border-b border-gray-200 pb-1 mb-4 theme-border">
                                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">Experience</h3>
                                    <button onclick="addExperienceItem()" class="ui-control bg-indigo-50 text-indigo-600 hover:bg-indigo-100 p-1 rounded transition no-print"><i class="fa-solid fa-plus"></i></button>
                                </div>
                                <div id="experienceList" class="space-y-6"></div>
                            </section>
                            <section class="section-hover relative group/section" id="secEducation">
                                <div class="flex justify-between items-center border-b border-gray-200 pb-1 mb-4 theme-border">
                                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">Education</h3>
                                    <button onclick="addEducationItem()" class="ui-control bg-indigo-50 text-indigo-600 hover:bg-indigo-100 p-1 rounded transition no-print"><i class="fa-solid fa-plus"></i></button>
                                </div>
                                <div id="educationList" class="space-y-4"></div>
                            </section>
                            <section class="section-hover relative group/section hidden" id="secProjects">
                                <div class="flex justify-between items-center border-b border-gray-200 pb-1 mb-4 theme-border">
                                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">Projects</h3>
                                    <button onclick="addProjectItem()" class="ui-control bg-indigo-50 text-indigo-600 hover:bg-indigo-100 p-1 rounded transition no-print"><i class="fa-solid fa-plus"></i></button>
                                </div>
                                <div id="projectList" class="space-y-4"></div>
                            </section>
                            <section class="section-hover relative group/section hidden" id="secReferences">
                                <div class="flex justify-between items-center border-b border-gray-200 pb-1 mb-4 theme-border">
                                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">References</h3>
                                    <button onclick="addReferenceItem()" class="ui-control bg-indigo-50 text-indigo-600 hover:bg-indigo-100 p-1 rounded transition no-print"><i class="fa-solid fa-plus"></i></button>
                                </div>
                                <div id="referenceList" class="space-y-4"></div>
                            </section>
                        </div>
                        <div class="space-y-8 resume-sidebar">
                            <section class="section-hover relative group/section" id="secSkills">
                                <div class="flex justify-between items-center border-b border-gray-200 pb-1 mb-4 theme-border">
                                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">Skills</h3>
                                </div>
                                <ul class="text-sm text-gray-700 space-y-1 editable-field" contenteditable="true" placeholder="List skills..." data-key="skills" data-html="true" data-suggest="skills"><li>Technical Skills</li></ul>
                            </section>
                            <section class="section-hover relative" id="secLanguages">
                                <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-3 border-b border-gray-200 pb-1 theme-border">Languages</h3>
                                <ul class="text-sm text-gray-700 space-y-1 editable-field" contenteditable="true" placeholder="List languages..." data-key="languages" data-html="true"><li>English</li></ul>
                            </section>
                            <section class="section-hover relative" id="secCertifications">
                                <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-3 border-b border-gray-200 pb-1 theme-border">Certifications</h3>
                                <ul class="text-sm text-gray-700 space-y-1 editable-field" contenteditable="true" placeholder="Certificate Name" data-key="certs" data-html="true"><li>Certificate 1</li></ul>
                            </section>
                            <section class="section-hover relative" id="secInterests">
                                <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-3 border-b border-gray-200 pb-1 theme-border">Interests</h3>
                                <ul class="text-sm text-gray-700 space-y-1 editable-field" contenteditable="true" placeholder="Reading, Coding" data-key="interests" data-html="true"><li>Reading</li></ul>
                            </section>
                        </div>
                    </div>
                </div>

                <!-- ============================
                     LAYOUT 2: FORMAL INDIAN
                     ============================ -->
                <div id="layout-formal" class="layout-formal">
                    <h1 class="formal-title">RESUME</h1>
                    
                    <div class="formal-section-title">
                        Basic Information :
                        <button onclick="addCustomField()" class="no-print ml-2 text-indigo-600 hover:text-indigo-800 text-sm" title="Add Hidden Fields"><i class="fa-solid fa-plus-circle"></i> Add Field</button>
                        
                        <!-- Restore Menu -->
                        <div id="restoreMenu" class="restore-menu"></div>
                        <button onclick="toggleRestoreMenu()" class="no-print ml-2 text-gray-400 hover:text-indigo-600" style="display:none;" id="restoreBtn"><i class="fa-solid fa-eye"></i></button>
                    </div>
                    
                    <div class="formal-info-grid" id="formalGrid">
                        <!-- Dynamic Grid Items will be managed by JS -->
                        <div class="formal-info-row" id="row-name"><div class="formal-label">Name</div><div>:</div><div class="editable-field" contenteditable="true" data-key="name"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-name')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-fatherName"><div class="formal-label">Father's Name</div><div>:</div><div class="editable-field" contenteditable="true" data-key="fatherName" placeholder="Mr. Name"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-fatherName')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-motherName"><div class="formal-label">Mother's Name</div><div>:</div><div class="editable-field" contenteditable="true" data-key="motherName" placeholder="Mrs. Name"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-motherName')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-dob"><div class="formal-label">Date of birth</div><div>:</div><div class="editable-field" contenteditable="true" data-key="dob" placeholder="DD-MM-YYYY"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-dob')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-gender"><div class="formal-label">Gender</div><div>:</div><div class="editable-field" contenteditable="true" data-key="gender" placeholder="Male/Female"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-gender')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-phone"><div class="formal-label">Mobile number</div><div>:</div><div class="editable-field" contenteditable="true" data-key="phone"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-phone')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-email"><div class="formal-label">E-mail id</div><div>:</div><div class="editable-field" contenteditable="true" data-key="email"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-email')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-languagesSimple"><div class="formal-label">Known language</div><div>:</div><div class="editable-field" contenteditable="true" data-key="languagesSimple" placeholder="Hindi, English"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-languagesSimple')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-interestsSimple"><div class="formal-label">Hobby</div><div>:</div><div class="editable-field" contenteditable="true" data-key="interestsSimple" placeholder="Reading, Sports"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-interestsSimple')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-address"><div class="formal-label">Address</div><div>:</div><div class="editable-field" contenteditable="true" data-key="address"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-address')"><i class="fa-solid fa-xmark"></i></div></div>
                        <div class="formal-info-row" id="row-religion"><div class="formal-label">Religion</div><div>:</div><div class="editable-field" contenteditable="true" data-key="religion" placeholder="Hindu"></div><div class="field-delete-btn no-print" onclick="hideBasicField('row-religion')"><i class="fa-solid fa-xmark"></i></div></div>
                    </div>

                    <div class="formal-section-title">Educational Information :</div>
                    
                    <table class="formal-table">
                        <thead>
                            <tr>
                                <th>S. N.</th>
                                <th>Class/Degree</th>
                                <th>Board / University</th>
                                <th>Passing Year</th>
                                <th>Result / %</th>
                                <th class="no-print" style="width: 30px;"></th>
                            </tr>
                        </thead>
                        <tbody id="formalEduList"></tbody>
                    </table>
                    <button onclick="addFormalEduRow()" class="no-print mt-2 text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300 add-row-btn">+ Add Row</button>

                    <div class="formal-section-title">Work Experience :</div>
                    <ul class="text-sm ml-6 list-decimal editable-field" contenteditable="true" data-key="workExpSimple" data-html="true" placeholder="List your experience here...">
                        <li>Fresher</li>
                    </ul>

                    <div class="formal-section-title">Declaration :</div>
                    <p class="text-sm ml-6 italic">I hereby declared that all of above given information are true and best of my knowledge.</p>

                    <div class="formal-footer">
                        <div>
                            <p>Date : <span contenteditable="true" class="editable-field" data-key="signDate"></span></p>
                            <p>Place : <span contenteditable="true" class="editable-field" data-key="signPlace"></span></p>
                        </div>
                        <div class="text-right">
                            <p class="font-bold">Signature</p>
                            <div class="h-10"></div>
                            <p class="editable-field" contenteditable="true" data-key="name"></p>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </main>

    <!-- Floating Toolbar -->
    <div class="floating-toolbar no-print">
        <select id="templateSelect" onchange="changeTemplate(this.value)" class="bg-slate-800 text-white text-xs rounded border border-slate-600 p-2 cursor-pointer focus:outline-none">
            <option value="modern">Layout: Modern</option>
            <option value="ats">Layout: ATS Friendly</option>
            <option value="simple">Layout: Simple</option>
            <option value="creative">Layout: Creative</option>
            <option value="formal_ind">Layout: Formal (Indian)</option>
        </select>
        <div class="h-6 w-px bg-gray-600 hidden sm:block"></div>
        <div class="relative">
            <button onclick="toggleSectionsMenu()" class="bg-slate-700 text-white hover:bg-slate-600 px-3 py-2 rounded-lg text-xs font-bold transition flex items-center gap-1">
                <i class="fa-solid fa-layer-group"></i> Sections
            </button>
            <div id="sectionsMenu" class="sections-menu">
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secSummary', this.checked)" checked> Summary</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secExperience', this.checked)" checked> Experience</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secEducation', this.checked)" checked> Education</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secProjects', this.checked)"> Projects</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secReferences', this.checked)"> References</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secSkills', this.checked)" checked> Skills</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secLanguages', this.checked)" checked> Languages</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secCertifications', this.checked)" checked> Certifications</label>
                <label class="section-toggle-item"><input type="checkbox" onchange="toggleSection('secInterests', this.checked)" checked> Interests</label>
            </div>
        </div>
        <div class="h-6 w-px bg-gray-600 hidden sm:block"></div>
        <button id="micBtn" class="w-9 h-9 rounded-full bg-slate-700 text-white hover:bg-slate-600 transition flex items-center justify-center hidden sm:flex" title="Voice Typing">
            <i class="fa-solid fa-microphone"></i>
        </button>
        <div class="flex gap-1.5" id="colorPicker">
            <button onclick="changeTheme('#4f46e5')" class="w-5 h-5 rounded-full bg-indigo-600 border border-white hover:scale-110 transition"></button>
            <button onclick="changeTheme('#dc2626')" class="w-5 h-5 rounded-full bg-red-600 border border-white hover:scale-110 transition"></button>
            <button onclick="changeTheme('#059669')" class="w-5 h-5 rounded-full bg-emerald-600 border border-white hover:scale-110 transition"></button>
            <button onclick="changeTheme('#0f172a')" class="w-5 h-5 rounded-full bg-slate-900 border border-white hover:scale-110 transition"></button>
        </div>
        <div class="h-6 w-px bg-gray-600 hidden sm:block"></div>
        <button onclick="printResume()" class="bg-white text-indigo-900 px-4 py-2 rounded-full text-xs font-bold hover:bg-gray-100 transition flex items-center gap-2 shadow-lg">
            <i class="fa-solid fa-print"></i> Print / PDF
        </button>
        <button onclick="clearData()" class="text-red-400 hover:text-red-300 text-xs px-2" title="Clear All Data"><i class="fa-solid fa-trash"></i></button>
    </div>

    <!-- Suggestion Box -->
    <ul id="suggestionBox" class="suggestion-box"></ul>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const suggestionData = {
                job: ["Software Engineer", "Web Developer", "Graphic Designer", "Data Scientist", "Content Writer", "Accountant", "Teacher", "Student"],
                degree: ["10th", "12th", "B.Tech", "B.Sc", "B.Com", "B.A", "MBA", "M.Sc"],
                university: ["CBSE", "ICSE", "State Board", "Delhi University", "Mumbai University"],
                skills: ["JavaScript", "Python", "Communication", "Leadership", "Excel", "Tally"],
                languages: ["English", "Hindi"],
                interests: ["Reading", "Cricket", "Music"]
            };

            window.accentColor = '#4f46e5'; 
            window.currentTemplate = 'modern';
            const suggestionBox = document.getElementById('suggestionBox');

            // --- Load Data ---
            function loadData() {
                const data = JSON.parse(localStorage.getItem('resumeData') || '{}');
                
                document.querySelectorAll('.editable-field').forEach(el => {
                    const key = el.getAttribute('data-key');
                    if(data[key]) {
                        if(el.tagName === 'UL' || el.getAttribute('data-html') === 'true') el.innerHTML = data[key];
                        else el.innerText = data[key];
                    }
                });
                
                // Load Custom Fields
                if (data.customFields && Array.isArray(data.customFields)) {
                    // Remove existing custom fields first to avoid dupes
                    document.querySelectorAll('.formal-info-row.custom').forEach(r => r.remove());
                    data.customFields.forEach(cf => {
                        window.addCustomField(cf.label, cf.value);
                    });
                }

                if(data.theme) window.changeTheme(data.theme);
                if(data.template) {
                    window.currentTemplate = data.template;
                    document.getElementById('templateSelect').value = window.currentTemplate;
                    window.changeTemplate(window.currentTemplate);
                }
                if(data.photo) {
                    const img = document.getElementById('profilePhoto');
                    const icon = document.getElementById('photoIcon');
                    img.src = data.photo;
                    img.classList.remove('hidden');
                    icon.classList.add('hidden');
                }
                
                if (data.visibleSections) {
                    for (const [id, visible] of Object.entries(data.visibleSections)) {
                        window.toggleSection(id, visible);
                        const checkbox = document.querySelector(`input[onchange="toggleSection('${id}', this.checked)"]`);
                        if (checkbox) checkbox.checked = visible;
                    }
                }
                
                // Formal basic info fields visibility
                if (data.basicFields) {
                     for (const [id, visible] of Object.entries(data.basicFields)) {
                        const row = document.getElementById(id);
                        if (row) {
                            if (visible) row.classList.remove('hidden');
                            else row.classList.add('hidden');
                        }
                     }
                     window.updateRestoreButton();
                }

                // Standard Lists
                (data.experience || []).length ? data.experience.forEach(window.addExperienceItem) : window.addExperienceItem();
                (data.education || []).length ? data.education.forEach(window.addEducationItem) : window.addEducationItem();
                (data.projects || []).length ? data.projects.forEach(window.addProjectItem) : window.addProjectItem();
                (data.references || []).length ? data.references.forEach(window.addReferenceItem) : window.addReferenceItem();
                
                // Formal Lists
                (data.formalEducation || []).length ? data.formalEducation.forEach(window.addFormalEduRow) : [1,2].forEach(() => window.addFormalEduRow());

                initListListeners();
            }

            // --- Save Data ---
            window.saveData = function() {
                const data = {};
                document.querySelectorAll('.editable-field').forEach(el => {
                    const key = el.getAttribute('data-key');
                    // Avoid saving custom field values here, handled separately
                    if (key && !key.startsWith('custom-val')) {
                        data[key] = (el.tagName === 'UL' || el.getAttribute('data-html') === 'true') ? el.innerHTML : el.innerText;
                    }
                });
                data.theme = window.accentColor;
                data.template = window.currentTemplate;
                
                data.visibleSections = {};
                ['secSummary', 'secExperience', 'secEducation', 'secProjects', 'secReferences', 'secSkills', 'secLanguages', 'secCertifications', 'secInterests'].forEach(id => {
                    const el = document.getElementById(id);
                    if(el) data.visibleSections[id] = !el.classList.contains('hidden');
                });
                
                data.basicFields = {};
                document.querySelectorAll('.formal-info-row:not(.custom)').forEach(row => {
                    data.basicFields[row.id] = !row.classList.contains('hidden');
                });
                
                // Custom Fields
                data.customFields = [];
                document.querySelectorAll('.formal-info-row.custom').forEach(row => {
                    const label = row.querySelector('.formal-label').innerText;
                    const val = row.querySelector('.editable-field').innerText;
                    data.customFields.push({ label: label, value: val });
                });
                
                const img = document.getElementById('profilePhoto');
                if(!img.classList.contains('hidden')) data.photo = img.src;

                // Lists Scrapers
                data.experience = [];
                document.querySelectorAll('#experienceList .group\\/item').forEach(el => {
                    data.experience.push({
                        role: el.querySelector('[data-type="role"]')?.innerText,
                        date: el.querySelector('[data-type="date"]')?.innerText,
                        company: el.querySelector('[data-type="company"]')?.innerText,
                        desc: el.querySelector('[data-type="desc"]')?.innerText
                    });
                });
                
                data.education = [];
                document.querySelectorAll('#educationList .group\\/item').forEach(el => {
                    data.education.push({
                        degree: el.querySelector('[data-type="degree"]')?.innerText,
                        school: el.querySelector('[data-type="school"]')?.innerText,
                        year: el.querySelector('[data-type="year"]')?.innerText
                    });
                });
                
                data.projects = [];
                document.querySelectorAll('#projectList .group\\/item').forEach(el => {
                    data.projects.push({
                        title: el.querySelector('[data-type="title"]')?.innerText,
                        link: el.querySelector('[data-type="link"]')?.innerText,
                        desc: el.querySelector('[data-type="desc"]')?.innerText
                    });
                });
                
                data.references = [];
                document.querySelectorAll('#referenceList .group\\/item').forEach(el => {
                    data.references.push({
                        name: el.querySelector('[data-type="refName"]')?.innerText,
                        info: el.querySelector('[data-type="refInfo"]')?.innerText
                    });
                });
                
                // Formal Education Table
                data.formalEducation = [];
                document.querySelectorAll('#formalEduList tr').forEach(row => {
                   const cells = row.querySelectorAll('td div[contenteditable]');
                   if(cells.length > 0) {
                       data.formalEducation.push({
                           sn: cells[0]?.innerText || '',
                           degree: cells[1]?.innerText || '',
                           board: cells[2]?.innerText || '',
                           year: cells[3]?.innerText || '',
                           result: cells[4]?.innerText || ''
                       });
                   }
                });

                localStorage.setItem('resumeData', JSON.stringify(data));
            }
            
            document.getElementById('resumeArea').addEventListener('input', (e) => {
                window.saveData();
                handleSuggestions(e);
            });

            // --- Template Switching ---
            window.changeTemplate = function(template) {
                window.currentTemplate = template;
                const body = document.getElementById('bodyRoot');
                const headerBg = document.querySelector('.header-bg-wrapper');
                const standardLayout = document.getElementById('layout-standard');
                const formalLayout = document.getElementById('layout-formal');
                const colorPicker = document.getElementById('colorPicker');

                body.classList.remove('template-ats', 'template-creative', 'template-simple');
                headerBg.classList.remove('header-bg');
                standardLayout.classList.remove('hidden');
                formalLayout.classList.remove('active');
                if(colorPicker) colorPicker.style.display = 'flex';
                
                if (template === 'ats') {
                    body.classList.add('template-ats');
                } else if (template === 'creative') {
                    body.classList.add('template-creative');
                    headerBg.classList.add('header-bg');
                } else if (template === 'simple') {
                    body.classList.add('template-simple');
                } else if (template === 'formal_ind') {
                    standardLayout.classList.add('hidden');
                    formalLayout.classList.add('active');
                    if(colorPicker) colorPicker.style.display = 'none'; // No colors in formal
                }
                window.saveData();
            };
            
            // --- Section Toggling ---
            window.toggleSectionsMenu = function() {
                document.getElementById('sectionsMenu').classList.toggle('active');
            };
            
            window.toggleSection = function(id, isVisible) {
                const el = document.getElementById(id);
                if (el) {
                    if (isVisible) el.classList.remove('hidden');
                    else el.classList.add('hidden');
                    window.saveData();
                }
            };
            
            // --- Hide/Restore Basic Fields ---
            window.hideBasicField = function(rowId) {
                // If it's a custom field, remove it entirely
                const row = document.getElementById(rowId);
                if(row) {
                    if (row.classList.contains('custom')) {
                        row.remove();
                    } else {
                        row.classList.add('hidden');
                    }
                    window.updateRestoreButton();
                    window.saveData();
                }
            };
            
            window.addCustomField = function(labelStr = '', valStr = '') {
                const label = labelStr || prompt("Enter Field Name (e.g. Aadhaar No.):");
                if (!label) return;
                
                const grid = document.getElementById('formalGrid');
                const id = 'row-custom-' + Date.now();
                const div = document.createElement('div');
                div.className = "formal-info-row custom";
                div.id = id;
                div.innerHTML = `
                    <div class="formal-label" contenteditable="true">${label}</div>
                    <div>:</div>
                    <div class="editable-field" contenteditable="true" data-key="custom-val-${id}">${valStr}</div>
                    <div class="field-delete-btn no-print" onclick="hideBasicField('${id}')"><i class="fa-solid fa-xmark"></i></div>
                `;
                grid.appendChild(div);
                window.saveData();
            };
            
            window.toggleRestoreMenu = function() {
                const menu = document.getElementById('restoreMenu');
                menu.innerHTML = '';
                
                const allRows = document.querySelectorAll('.formal-info-row.hidden:not(.custom)');
                if(allRows.length === 0) {
                    menu.innerHTML = '<div class="restore-item text-gray-400">No hidden fields</div>';
                } else {
                    allRows.forEach(row => {
                        const label = row.querySelector('.formal-label').innerText;
                        const item = document.createElement('div');
                        item.className = 'restore-item';
                        item.innerHTML = `<i class="fa-solid fa-plus text-green-500"></i> ${label}`;
                        item.onclick = () => {
                            row.classList.remove('hidden');
                            menu.classList.remove('active');
                            window.updateRestoreButton();
                            window.saveData();
                        };
                        menu.appendChild(item);
                    });
                }
                menu.classList.toggle('active');
            };
            
            window.updateRestoreButton = function() {
                const btn = document.getElementById('restoreBtn');
                const hiddenCount = document.querySelectorAll('.formal-info-row.hidden:not(.custom)').length;
                if (hiddenCount > 0) {
                    btn.style.display = 'inline-block';
                } else {
                    btn.style.display = 'none';
                }
            }
            
            // --- Font Size Logic ---
            window.adjustFontSize = function(delta) {
                const resume = document.getElementById('resumeArea');
                let style = window.getComputedStyle(resume, null).getPropertyValue('font-size');
                let fontSize = parseFloat(style); 
                resume.style.fontSize = (fontSize + delta) + 'px';
            };

            // --- Item Adders ---
            window.addExperienceItem = function(data = {}) {
                const div = document.createElement('div');
                div.className = "relative group/item fade-in mb-4";
                div.innerHTML = `
                    <div class="flex justify-between items-baseline mb-1">
                        <div class="font-bold text-gray-800" contenteditable="true" placeholder="Job Position" data-type="role">${data.role||''}</div>
                        <div class="text-xs text-gray-500 font-medium" contenteditable="true" placeholder="Date" data-type="date">${data.date||''}</div>
                    </div>
                    <div class="text-sm font-medium mb-1 theme-text" style="color:${window.accentColor}" contenteditable="true" placeholder="Company" data-type="company">${data.company||''}</div>
                    <div class="text-sm text-gray-600 leading-relaxed resume-font" contenteditable="true" placeholder="Description..." data-type="desc">${data.desc||''}</div>
                    <button onclick="this.parentElement.remove(); window.saveData()" class="ui-control absolute -left-6 top-0 text-red-300 hover:text-red-500 no-print"><i class="fa-solid fa-trash"></i></button>
                `;
                document.getElementById('experienceList').appendChild(div);
            };
            
            window.addEducationItem = function(data = {}) {
                const div = document.createElement('div');
                div.className = "relative group/item fade-in mb-4";
                div.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="font-bold text-gray-800" contenteditable="true" placeholder="Degree" data-type="degree">${data.degree||''}</div>
                            <div class="text-sm text-gray-600" contenteditable="true" placeholder="University" data-type="school">${data.school||''}</div>
                        </div>
                        <div class="text-xs text-gray-500 font-medium" contenteditable="true" placeholder="Year" data-type="year">${data.year||''}</div>
                    </div>
                    <button onclick="this.parentElement.remove(); window.saveData()" class="ui-control absolute -left-6 top-0 text-red-300 hover:text-red-500 no-print"><i class="fa-solid fa-trash"></i></button>
                `;
                document.getElementById('educationList').appendChild(div);
            };

            window.addProjectItem = function(data = {}) {
                const div = document.createElement('div');
                div.className = "relative group/item fade-in mb-4";
                div.innerHTML = `
                    <div class="flex justify-between items-baseline mb-1">
                        <div class="font-bold text-gray-800" contenteditable="true" placeholder="Project Title" data-type="title">${data.title||''}</div>
                        <div class="text-xs text-indigo-600 font-medium" contenteditable="true" placeholder="Link/Year" data-type="link">${data.link||''}</div>
                    </div>
                    <div class="text-sm text-gray-600 leading-relaxed resume-font" contenteditable="true" placeholder="Description..." data-type="desc">${data.desc||''}</div>
                    <button onclick="this.parentElement.remove(); window.saveData()" class="ui-control absolute -left-6 top-0 text-red-300 hover:text-red-500 no-print"><i class="fa-solid fa-trash"></i></button>
                `;
                document.getElementById('projectList').appendChild(div);
            };

            window.addReferenceItem = function(data = {}) {
                const div = document.createElement('div');
                div.className = "relative group/item fade-in mb-3";
                div.innerHTML = `
                    <div class="font-bold text-gray-800 text-sm" contenteditable="true" placeholder="Reference Name" data-type="refName">${data.name||''}</div>
                    <div class="text-xs text-gray-500" contenteditable="true" placeholder="Contact Info" data-type="refInfo">${data.info||''}</div>
                    <button onclick="this.parentElement.remove(); window.saveData()" class="ui-control absolute -left-6 top-0 text-red-300 hover:text-red-500 no-print"><i class="fa-solid fa-trash"></i></button>
                `;
                document.getElementById('referenceList').appendChild(div);
            };
            
            window.addFormalEduRow = function(data = {}) {
                const tbody = document.getElementById('formalEduList');
                const count = tbody.children.length + 1;
                const tr = document.createElement('tr');
                tr.className = "formal-row group";
                tr.innerHTML = `
                    <td><div contenteditable="true" placeholder="${count}">${data.sn || count}</div></td>
                    <td><div contenteditable="true" placeholder="10th/12th">${data.degree || ''}</div></td>
                    <td><div contenteditable="true" placeholder="Board/Univ">${data.board || ''}</div></td>
                    <td><div contenteditable="true" placeholder="Year">${data.year || ''}</div></td>
                    <td><div contenteditable="true" placeholder="% / Grade">${data.result || ''}</div></td>
                    <td class="no-print text-center"><button onclick="this.closest('tr').remove(); window.saveData()" class="text-red-400 hover:text-red-600 ui-control"><i class="fa-solid fa-trash"></i></button></td>
                `;
                tbody.appendChild(tr);
            };
            
            window.clearData = function() {
                if(confirm("Delete all data?")) { localStorage.removeItem('resumeData'); location.reload(); }
            };

            // Voice Typing
            const micBtn = document.getElementById('micBtn');
            if ('webkitSpeechRecognition' in window) {
                const recognition = new webkitSpeechRecognition();
                recognition.continuous = false;
                recognition.lang = 'en-US';
                recognition.onstart = () => micBtn.classList.add('mic-active');
                recognition.onend = () => micBtn.classList.remove('mic-active');
                recognition.onresult = (e) => {
                    const t = e.results[0][0].transcript;
                    const el = document.activeElement;
                    if(el.getAttribute('contenteditable') === 'true') {
                        el.innerText = (el.innerText + " " + t).trim();
                        el.dispatchEvent(new Event('input', { bubbles: true }));
                    }
                };
                micBtn.addEventListener('click', () => {
                    document.activeElement.getAttribute('contenteditable') === 'true' ? recognition.start() : alert("Click text field first!");
                });
            } else { if(micBtn) micBtn.style.display = 'none'; }

            window.printResume = function() {
                const name = document.querySelector('[data-key="name"]')?.innerText.trim() || 'Resume';
                document.title = name + " - Resume";
                window.print();
            };
            
            function initListListeners() {
                document.querySelectorAll('ul[contenteditable]').forEach(ul => {
                    const check = () => {
                         if (ul.innerText.trim().length > 0 && ul.querySelectorAll('li').length === 0) {
                             ul.innerHTML = `<li>${ul.innerText}</li>`;
                         }
                         if (ul.innerHTML.trim() === '') ul.innerHTML = '<li></li>';
                    };
                    ul.addEventListener('input', check);
                    ul.addEventListener('focus', check);
                });
            }

            // Init
            loadData();
        });
    </script>
</body>
</html>