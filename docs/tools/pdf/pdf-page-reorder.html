<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https:; script-src 'self' https: 'unsafe-inline'; style-src 'self' https: 'unsafe-inline'; img-src 'self' https: data:; font-src 'self' https: data:; connect-src 'self' https:;">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="referrer" content="no-referrer-when-downgrade">

    <title>PDF Page Reorder | Organize PDF Pages Online</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="Free online tool to reorder, rotate, and delete PDF pages. Drag and drop interface for organizing PDF documents easily. Secure client-side processing.">
    <meta name="keywords"
        content="pdf reorder, organize pdf pages, rotate pdf pages, delete pdf pages, rearrange pdf, free pdf tool, client-side pdf">
    <meta name="author" content="Free Online Tools">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://nkd2000.github.io/Daily_tools/tools/pdf/pdf-page-reorder.html">

    <!-- Open Graph -->
    <meta property="og:title" content="PDF Page Reorder & Organizer">
    <meta property="og:description" content="Reorder, rotate, and delete PDF pages instantly in your browser.">
    <meta property="og:url" content="https://nkd2000.github.io/Daily_tools/tools/pdf/pdf-page-reorder.html">
    <meta property="og:image" content="https://nkd2000.github.io/Daily_tools/assets/og-default.svg">
    <meta property="og:type" content="website">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PDF Page Reorder & Organizer">
    <meta name="twitter:description" content="Reorder, rotate, and delete PDF pages instantly in your browser.">

    <!-- User's AdSense -->
    <meta name="google-adsense-account" content="ca-pub-3793390054330330">
    <script data-ad-client="ca-pub-3793390054330330" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <script>pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';</script>

    <!-- Icons & Fonts -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>

    <style>
        :root {
            --primary: #4f46e5;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f1f5f9;
            touch-action: pan-y;
        }

        .page-card {
            transition: all 0.2s;
            position: relative;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .page-card.selected {
            border-color: var(--primary) !important;
            background: #eef2ff;
        }

        .page-card.selected::after {
            content: '\f058';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 10px;
            right: 10px;
            color: var(--primary);
            background: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 30;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .sortable-ghost {
            opacity: 0.1;
            background: var(--primary);
            border: 2px dashed var(--primary);
        }

        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Hide scrollbar but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>

</head>

<body class="text-slate-800 h-screen flex flex-col overflow-hidden" ondrop="handleDrop(event)"
    ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">

    <!-- 1. Global Navigation (Standard) -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 shrink-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="bg-indigo-600 text-white p-2 rounded-lg">
                        <i class="fa-solid fa-layer-group"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight text-slate-900">PDF Reorder <span
                            class="text-indigo-600 text-xs align-top">PRO</span></span>
                </div>
                <div class="flex items-center gap-6 text-sm font-medium text-slate-500">
                    <a href="../../index.html" class="hover:text-indigo-600 transition">Home</a>
                    <a href="../../pages/contact.html" class="hover:text-indigo-600 transition">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <header class="bg-white border-b px-4 py-3 flex flex-col gap-3 z-50 shadow-sm">
        <div class="flex justify-between items-center">
            <div class="flex items-center gap-2">
                <button onclick="undo()" id="undo-btn" disabled
                    class="p-2 text-slate-400 hover:text-indigo-600 transition"><i
                        class="fa-solid fa-rotate-left"></i></button>
                <button onclick="toggleSelectMode()" id="select-mode-btn"
                    class="bg-slate-100 text-slate-600 px-3 py-1.5 rounded-lg text-xs font-bold transition flex items-center gap-1">
                    <i class="fa-solid fa-check-double"></i> <span class="hidden sm:inline">Select Mode</span>
                </button>
                <button id="export-btn" disabled onclick="exportPDF()"
                    class="bg-green-600 text-white px-4 py-1.5 rounded-lg text-xs font-bold shadow-md hover:bg-green-700 transition">Export
                    PDF</button>
            </div>


            <!-- Secondary Toolbar -->
            <div class="flex gap-2 items-center">
                <button onclick="document.getElementById('file-input').click()"
                    class="bg-indigo-600 text-white px-3 py-2 rounded-lg text-xs font-bold flex items-center gap-1 shrink-0">
                    <i class="fa-solid fa-plus"></i> Add Files
                </button>
                <button onclick="addBlankPage()"
                    class="bg-white border-2 border-indigo-100 text-indigo-600 px-3 py-2 rounded-lg text-xs font-bold flex items-center gap-1 shrink-0">
                    <i class="fa-solid fa-file-circle-plus"></i> Blank Page
                </button>

                <!-- Smart Sequence Input (Visible after upload) -->
                <div id="sequence-container" class="hidden flex flex-1 gap-1">
                    <input type="text" id="sequence-input" placeholder="क्रम: 10-9, 5-4, 6"
                        class="w-full bg-slate-100 border-2 border-transparent focus:border-indigo-500 rounded-lg px-3 py-1.5 text-xs outline-none transition-all"
                        onkeydown="if(event.key==='Enter') applySmartSequence()">
                    <button onclick="applySmartSequence()"
                        class="bg-slate-800 text-white px-3 py-1.5 rounded-lg text-[10px] font-bold">Apply</button>
                </div>
            </div>
        </div>
    </header>

     <main class="flex-1 relative flex flex-col overflow-hidden">
        <!-- Welcome Screen -->
        <div id="dropzone" class="absolute inset-0 z-40 flex flex-col items-center justify-center p-6 text-center bg-slate-50">
            <input type="file" id="file-input" multiple accept=".pdf" class="hidden" onchange="handleFiles(this.files)">
            <div class="w-20 h-20 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mb-4">
                <i class="fa-solid fa-file-arrow-up text-3xl"></i>
            </div>
            <h2 class="text-xl font-bold text-slate-700">PDF फाइलें लोड करें</h2>
            <p class="text-slate-400 text-xs mt-2 max-w-xs">Smart Range (10-9), Multi-Select, और Blank Page सब यहाँ है!</p>
        </div>

        <!-- Main Workspace -->
        <div id="editor-area" class="flex-1 overflow-y-auto p-4 hidden">
            <div id="pages-grid" class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 pb-32">
                <!-- Page Cards -->
            </div>
        </div>

        <!-- Batch Action Toolbar -->
        <div id="batch-toolbar" class="fixed bottom-6 left-4 right-4 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex justify-between items-center z-[100] transition-all transform translate-y-40 opacity-0">
            <div class="flex items-center gap-4">
                <span id="selected-count" class="bg-indigo-600 px-2 py-1 rounded text-[10px] font-bold">0</span>
                <button onclick="batchRotate()" class="text-xs font-bold hover:text-indigo-400 flex items-center gap-2"><i class="fa-solid fa-rotate-right"></i> रोटेट</button>
                <button onclick="batchDelete()" class="text-xs font-bold text-red-400 hover:text-red-300 flex items-center gap-2"><i class="fa-solid fa-trash"></i> डिलीट</button>
            </div>
            <button onclick="clearSelection()" class="text-slate-400 hover:text-white"><i class="fa-solid fa-circle-xmark text-lg"></i></button>
        </div>
    </main>

    <!-- Preview Modal -->
    <div id="preview-modal" class="fixed inset-0 z-[110] bg-black flex flex-col hidden" onclick="if(event.target === this) closePreview()">
        <div class="p-4 flex justify-between items-center text-white border-b border-white/10">
            <span class="text-sm font-bold">पेज प्रिव्यू</span>
            <button onclick="closePreview()" class="p-2"><i class="fa-solid fa-xmark text-2xl"></i></button>
        </div>
        <div class="flex-1 overflow-auto flex justify-center items-center p-6">
            <div id="modal-canvas-container" class="bg-white shadow-2xl"></div>
        </div>
        <div class="p-6 bg-white rounded-t-[2.5rem] flex flex-col gap-6" onclick="event.stopPropagation()">
            <div class="flex flex-wrap justify-between items-center gap-4">
                <div class="flex items-center gap-3">
                    <span class="text-sm font-bold text-slate-600">नई पोजीशन:</span>
                    <input type="number" id="move-to-pos" class="w-20 border-2 border-slate-100 rounded-xl px-3 py-2 text-center font-bold focus:border-indigo-500 outline-none">
                    <button onclick="quickMove()" class="bg-indigo-600 text-white px-5 py-2 rounded-xl text-sm font-bold shadow-md">भेजें</button>
                </div>
                <div class="flex gap-4">
                    <button onclick="rotateModalPage()" class="flex-1 p-3 border-2 border-slate-100 rounded-xl text-indigo-600 hover:bg-indigo-50"><i class="fa-solid fa-rotate-right"></i></button>
                    <button onclick="deleteModalPage()" class="flex-1 p-3 border-2 border-slate-100 rounded-xl text-red-500 hover:bg-red-50"><i class="fa-solid fa-trash"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-sm text-gray-500">
                &copy; 2023 Free Online Tools. <a href="../../pages/privacy.html"
                    class="text-indigo-600 hover:text-indigo-500">Privacy Policy</a>
            </p>
        </div>
    </footer>







    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        let state = {
            pages: [],      // { id, docId, originalIndex, rotation, isBlank }
            buffers: {},
            history: [],
            selectedIds: new Set(),
            isSelectMode: false,
            currentPreviewId: null,
            docCounter: 0,
            lastSelectedIndex: null
        };

        const grid = document.getElementById('pages-grid');

        // Sortable Initialization with Mobile Long Press
        new Sortable(grid, {
            animation: 150,
            delay: 200,
            delayOnTouchOnly: true,
            onEnd: () => {
                saveHistory();
                syncStateFromDOM();
            }
        });

        async function handleFiles(files) {
            if (!files.length) return;
            document.getElementById('dropzone').classList.add('hidden');
            document.getElementById('editor-area').classList.remove('hidden');
            document.getElementById('sequence-container').classList.remove('hidden');

            for (const file of files) {
                if (file.type !== 'application/pdf') continue;
                try {
                    const buffer = await file.arrayBuffer();
                    const docId = `doc_${++state.docCounter}`;
                    state.buffers[docId] = buffer;
                    const pdf = await pdfjsLib.getDocument({ data: buffer.slice(0) }).promise;

                    for (let i = 1; i <= pdf.numPages; i++) {
                        state.pages.push({
                            id: `pg_${Math.random().toString(36).substr(2, 9)}`,
                            docId, originalIndex: i - 1, rotation: 0, isBlank: false
                        });
                    }
                } catch (e) { console.error(e); }
            }
            rebuildGrid();
            saveHistory();
            updateUI();
        }

        function renderCard(pageData, index) {
            const card = document.createElement('div');
            card.className = `page-card bg-white border-2 rounded-2xl p-2 shadow-sm group ${state.selectedIds.has(pageData.id) ? 'selected' : ''}`;
            card.dataset.id = pageData.id;

            card.onclick = (e) => handleCardClick(e, pageData.id, index);

            card.innerHTML = `
                <div class="absolute top-2 left-2 z-10 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded-full font-bold badge">${index + 1}</div>
                <div class="canvas-container bg-slate-50 aspect-[3/4] rounded-xl flex items-center justify-center overflow-hidden mb-2">
                    ${pageData.isBlank ? '<div class="text-slate-300 text-center"><i class="fa-regular fa-file text-2xl"></i><div class="text-[8px] font-bold mt-1 uppercase">Blank</div></div>' : '<div class="loader"></div>'}
                </div>
                <div class="flex justify-between items-center px-1">
                    <button onclick="event.stopPropagation(); rotatePage('${pageData.id}')" class="text-slate-400 hover:text-indigo-600 p-2"><i class="fa-solid fa-rotate-right text-xs"></i></button>
                    <button onclick="event.stopPropagation(); deletePage('${pageData.id}')" class="text-slate-400 hover:text-red-500 p-2"><i class="fa-solid fa-trash-can text-xs"></i></button>
                </div>
            `;
            grid.appendChild(card);
            if (!pageData.isBlank) generateThumbnail(pageData, card.querySelector('.canvas-container'));
        }

        // --- Core Action: Smart Sequence (FIXED & ROBUST) ---
        function applySmartSequence() {
            const input = document.getElementById('sequence-input').value.trim();
            if (!input) return;

            saveHistory();
            const snapshot = [...state.pages]; // वर्तमान स्थिति की कॉपी
            const newOrder = [];
            const segments = input.split(',');

            try {
                segments.forEach(seg => {
                    seg = seg.trim();
                    if (seg.includes('-')) {
                        const parts = seg.split('-').map(n => parseInt(n.trim()));
                        const start = parts[0];
                        const end = parts[1];

                        if (isNaN(start) || isNaN(end)) return;

                        if (start <= end) {
                            // सीधा क्रम: 4-6
                            for (let i = start; i <= end; i++) {
                                if (snapshot[i - 1]) newOrder.push(snapshot[i - 1]);
                            }
                        } else {
                            // उल्टा क्रम: 10-9
                            for (let i = start; i >= end; i--) {
                                if (snapshot[i - 1]) newOrder.push(snapshot[i - 1]);
                            }
                        }
                    } else {
                        const pos = parseInt(seg);
                        if (!isNaN(pos) && snapshot[pos - 1]) {
                            newOrder.push(snapshot[pos - 1]);
                        }
                    }
                });

                if (newOrder.length > 0) {
                    state.pages = newOrder;
                    rebuildGrid();
                    updateUI();
                    document.getElementById('sequence-input').value = ""; // Clear input
                }
            } catch (err) {
                alert("गलत फॉर्मेट! कृपया '10-9, 5-4, 6' जैसा लिखें।");
            }
        }

        // --- Interaction Logic ---
        function handleCardClick(e, id, index) {
            if (e.target.closest('button')) return;

            if (state.isSelectMode || e.ctrlKey || e.metaKey) {
                if (state.selectedIds.has(id)) state.selectedIds.delete(id);
                else state.selectedIds.add(id);
                rebuildGrid();
                updateBatchToolbar();
            } else if (e.shiftKey && state.lastSelectedIndex !== null) {
                const start = Math.min(state.lastSelectedIndex, index);
                const end = Math.max(state.lastSelectedIndex, index);
                for (let i = start; i <= end; i++) state.selectedIds.add(state.pages[i].id);
                rebuildGrid();
                updateBatchToolbar();
            } else {
                openPreview(id);
            }
            state.lastSelectedIndex = index;
        }

        function toggleSelectMode() {
            state.isSelectMode = !state.isSelectMode;
            const btn = document.getElementById('select-mode-btn');
            btn.classList.toggle('bg-indigo-600', state.isSelectMode);
            btn.classList.toggle('text-white', state.isSelectMode);
            if (!state.isSelectMode) clearSelection();
        }

        function addBlankPage() {
            saveHistory();
            state.pages.push({ id: `bl_${Date.now()}`, docId: null, originalIndex: -1, rotation: 0, isBlank: true });
            rebuildGrid(); updateUI();
            document.getElementById('dropzone').classList.add('hidden');
            document.getElementById('editor-area').classList.remove('hidden');
        }

        // --- Page Actions ---
        function rotatePage(id) {
            saveHistory();
            const p = state.pages.find(x => x.id === id);
            p.rotation = (p.rotation + 90) % 360;
            rebuildGrid();
        }

        function deletePage(id) {
            saveHistory();
            state.pages = state.pages.filter(p => p.id !== id);
            rebuildGrid(); updateUI();
        }

        function batchRotate() {
            saveHistory();
            state.pages.forEach(p => { if (state.selectedIds.has(p.id)) p.rotation = (p.rotation + 90) % 360; });
            rebuildGrid();
        }

        function batchDelete() {
            if (!confirm(`क्या आप ${state.selectedIds.size} पेज डिलीट करना चाहते हैं?`)) return;
            saveHistory();
            state.pages = state.pages.filter(p => !state.selectedIds.has(p.id));
            state.selectedIds.clear(); rebuildGrid(); updateUI(); updateBatchToolbar();
        }

        function clearSelection() { state.selectedIds.clear(); rebuildGrid(); updateBatchToolbar(); }

        // --- Modal & Helpers ---
        function rebuildGrid() { grid.innerHTML = ''; state.pages.forEach((p, i) => renderCard(p, i)); }

        async function generateThumbnail(pageData, container) {
            const pdf = await pdfjsLib.getDocument({ data: state.buffers[pageData.docId].slice(0) }).promise;
            const page = await pdf.getPage(pageData.originalIndex + 1);
            const viewport = page.getViewport({ scale: 0.3 });
            const canvas = document.createElement('canvas');
            canvas.height = viewport.height; canvas.width = viewport.width;
            await page.render({ canvasContext: canvas.getContext('2d'), viewport }).promise;
            container.innerHTML = '';
            canvas.style.transform = `rotate(${pageData.rotation}deg)`;
            canvas.className = "max-w-full h-auto shadow-sm";
            container.appendChild(canvas);
        }

        function updateBatchToolbar() {
            const toolbar = document.getElementById('batch-toolbar');
            const countLabel = document.getElementById('selected-count');
            if (state.selectedIds.size > 0) {
                toolbar.classList.remove('translate-y-40', 'opacity-0');
                countLabel.innerText = `${state.selectedIds.size} सिलेक्टेड`;
            } else {
                toolbar.classList.add('translate-y-40', 'opacity-0');
            }
        }

        function syncStateFromDOM() {
            const newOrder = [];
            document.querySelectorAll('.page-card').forEach(el => {
                newOrder.push(state.pages.find(p => p.id === el.dataset.id));
            });
            state.pages = newOrder; updateUI();
        }

        function updateUI() {
            document.querySelectorAll('.badge').forEach((b, i) => b.innerText = i + 1);
            document.getElementById('export-btn').disabled = state.pages.length === 0;
            document.getElementById('undo-btn').disabled = state.history.length === 0;
            if (state.pages.length === 0) {
                document.getElementById('dropzone').classList.remove('hidden');
                document.getElementById('editor-area').classList.add('hidden');
            }
        }

        function saveHistory() { if (state.history.length > 30) state.history.shift(); state.history.push(JSON.stringify(state.pages)); }
        function undo() { if (!state.history.length) return; state.pages = JSON.parse(state.history.pop()); rebuildGrid(); updateUI(); }

        async function openPreview(id) {
            state.currentPreviewId = id;
            const p = state.pages.find(x => x.id === id);
            document.getElementById('move-to-pos').value = state.pages.indexOf(p) + 1;
            document.getElementById('preview-modal').classList.remove('hidden');
            const container = document.getElementById('modal-canvas-container');
            container.innerHTML = '<div class="loader"></div>';

            if (p.isBlank) { container.innerHTML = '<div class="p-20 text-slate-300 font-bold">BLANK PAGE</div>'; return; }
            const pdf = await pdfjsLib.getDocument({ data: state.buffers[p.docId].slice(0) }).promise;
            const page = await pdf.getPage(p.originalIndex + 1);
            const viewport = page.getViewport({ scale: 0.8 });
            const canvas = document.createElement('canvas');
            canvas.height = viewport.height; canvas.width = viewport.width;
            await page.render({ canvasContext: canvas.getContext('2d'), viewport }).promise;
            container.innerHTML = '';
            canvas.style.transform = `rotate(${p.rotation}deg)`;
            container.appendChild(canvas);
        }

        function closePreview() { document.getElementById('preview-modal').classList.add('hidden'); }
        function rotateModalPage() { rotatePage(state.currentPreviewId); openPreview(state.currentPreviewId); }
        function deleteModalPage() { deletePage(state.currentPreviewId); closePreview(); }

        function quickMove() {
            const newPos = parseInt(document.getElementById('move-to-pos').value) - 1;
            if (newPos < 0 || newPos >= state.pages.length) return;
            saveHistory();
            const idx = state.pages.findIndex(p => p.id === state.currentPreviewId);
            const [moved] = state.pages.splice(idx, 1);
            state.pages.splice(newPos, 0, moved);
            rebuildGrid(); updateUI(); closePreview();
        }

        async function exportPDF() {
            const btn = document.getElementById('export-btn');
            const oldText = btn.innerText;
            btn.innerText = "Processing..."; btn.disabled = true;
            try {
                const finalPdf = await PDFLib.PDFDocument.create();
                for (const p of state.pages) {
                    if (p.isBlank) finalPdf.addPage([595.28, 841.89]);
                    else {
                        const src = await PDFLib.PDFDocument.load(state.buffers[p.docId]);
                        const [copied] = await finalPdf.copyPages(src, [p.originalIndex]);
                        if (p.rotation !== 0) copied.setRotation(PDFLib.degrees(p.rotation));
                        finalPdf.addPage(copied);
                    }
                }
                const bytes = await finalPdf.save();
                const blob = new Blob([bytes], { type: 'application/pdf' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = `organized_${Date.now()}.pdf`; a.click();
            } catch (e) { alert("निर्यात विफल!"); }
            btn.innerText = oldText; btn.disabled = false;
        }

        window.addEventListener('keydown', (e) => { if (e.ctrlKey && e.key === 'z') { e.preventDefault(); undo(); } });
    </script>
</body>

</html>