<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Image Processor | Free Online Tools</title>
    <!-- SEO / Social meta tags (update description and canonical URL) -->
    <meta name="description" content="Advanced image processing tools: resize, compress, and upscale images easily. Replace with page-specific summary for better SEO.">
    <meta name="keywords" content="smart image processor, resize images, upscale images, compress images, online tools">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://nkd2000.github.io/Daily_tools/smart_image_processor.html">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Smart Image Processor | Free Online Tools">
    <meta property="og:description" content="Advanced image processing tools: resize, compress, and upscale images easily.">
    <meta property="og:url" content="https://nkd2000.github.io/Daily_tools/smart_image_processor.html">
    <meta property="og:image" content="https://nkd2000.github.io/Daily_tools/assets/og-default.svg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Smart Image Processor | Free Online Tools">
    <meta name="twitter:description" content="Advanced image processing tools: resize, compress and upscale images easily.">

    <meta name="author" content="FreeTools">
        <meta name="theme-color" content="#7c3aed">

        <!-- JSON-LD: Organization + WebSite -->
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@graph": [
                { "@type": "Organization", "@id": "https://nkd2000.github.io/Daily_tools/#org", "name": "Free Online Tools", "url": "https://nkd2000.github.io/Daily_tools/docs/tools/image/smart-image-processor.html", "logo": "https://nkd2000.github.io/Daily_tools/assets/og-default.svg" },
                { "@type": "WebSite", "url": "https://nkd2000.github.io/Daily_tools/", "name": "Free Online Tools", "publisher": { "@id": "https://nkd2000.github.io/Daily_tools/#org" } }
            ]
        }
        </script>
    
    <!-- User's AdSense -->
    <meta name="google-adsense-account" content="ca-pub-3793390054330330">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3793390054330330" crossorigin="anonymous"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .drag-active { border-color: #8b5cf6; background-color: #f5f3ff; } /* Purple theme for Smart Tool */
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom Toggle Switch */
        .mode-btn.active { background-color: #8b5cf6; color: white; border-color: #8b5cf6; }
        .mode-btn { background-color: white; color: #4b5563; border: 1px solid #e5e7eb; }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            margin-top: -8px; 
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #ddd6fe;
            border-radius: 2px;
        }
    </style>
</head>
<body class="bg-gray-50 text-slate-800 flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="bg-purple-600 text-white p-2 rounded-lg">
                        <i class="fa-solid fa-wand-magic-sparkles"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight text-gray-900">SmartProcess</span>
                </div>
                <div class="flex items-center gap-6 text-sm font-medium text-gray-500">
                    <a href="../../index.html" class="hover:text-purple-600 transition">Home</a>
                    <a href="https://jansuchnaforall.blogspot.com" target="_blank" class="hover:text-purple-600 transition">Blog</a>
                    <a href="../../pages/contact.html" class="hover:text-purple-600 transition">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-6xl mx-auto px-4 py-8 sm:px-6 w-full">
        
        <!-- Header -->
        <div class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-3">Smart Image Processor</h1>
            <p class="text-gray-500 text-lg max-w-2xl mx-auto">
                Advanced resizing, compression, and upscaling tools.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
            
            <!-- Left Column: Controls -->
            <div class="lg:col-span-5 space-y-6">
                
                <!-- Upload Card -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="p-5 border-b border-gray-100 bg-gray-50">
                        <h3 class="font-semibold text-gray-800"><i class="fa-solid fa-upload mr-2 text-purple-500"></i>Source Image</h3>
                    </div>
                    <div class="p-6">
                        <label id="dropZone" class="flex flex-col items-center justify-center w-full h-40 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition duration-200 group">
                            <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                <i class="fa-solid fa-cloud-arrow-up text-3xl text-gray-400 group-hover:text-purple-500 mb-3 transition"></i>
                                <p class="mb-1 text-sm text-gray-500"><span class="font-semibold text-gray-700">Click to upload</span> or drag & drop</p>
                            </div>
                            <input type="file" id="fileInput" accept="image/*" class="hidden">
                        </label>
                        <div id="fileInfo" class="hidden mt-3 text-sm text-gray-600 text-center bg-purple-50 py-2 rounded-lg"></div>
                    </div>
                </div>

                <!-- Processor Controls -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="p-5 border-b border-gray-100 bg-gray-50">
                        <h3 class="font-semibold text-gray-800"><i class="fa-solid fa-sliders mr-2 text-purple-500"></i>Configuration</h3>
                    </div>
                    <div class="p-6 space-y-6">
                        
                        <!-- Main Toggle -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Operation Mode</label>
                            <div class="flex rounded-lg shadow-sm" role="group">
                                <button type="button" id="btnCompress" class="mode-btn active flex-1 py-2.5 text-sm font-medium rounded-l-lg hover:bg-purple-50 focus:z-10 transition">
                                    <i class="fa-solid fa-compress-arrows-alt mr-2"></i>Compress
                                </button>
                                <button type="button" id="btnEnlarge" class="mode-btn flex-1 py-2.5 text-sm font-medium rounded-r-lg hover:bg-purple-50 focus:z-10 transition">
                                    <i class="fa-solid fa-expand-arrows-alt mr-2"></i>Enlarge
                                </button>
                            </div>
                        </div>

                        <!-- Compress Options -->
                        <div id="compressOptions" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Method</label>
                                <select id="compressMethod" class="block w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm p-2.5 border">
                                    <option value="quality">Adjust Quality (Keep Dimensions)</option>
                                    <option value="percentage">Resize Dimensions (%)</option>
                                </select>
                            </div>
                            
                            <!-- Quality Slider -->
                            <div id="qualityInputGroup">
                                <div class="flex justify-between mb-1">
                                    <label class="text-sm font-medium text-gray-700">Quality Level</label>
                                    <span id="qualityValue" class="text-sm font-bold text-purple-600">70%</span>
                                </div>
                                <input type="range" id="qualityRange" min="1" max="100" value="70" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <div class="mt-2 text-xs text-gray-500 flex justify-between">
                                    <span>Low File Size</span>
                                    <span>High Quality</span>
                                </div>
                            </div>

                            <!-- Percentage Slider (Hidden initially) -->
                            <div id="scaleInputGroup" class="hidden">
                                <div class="flex justify-between mb-1">
                                    <label class="text-sm font-medium text-gray-700">Resize Scale</label>
                                    <span id="scaleValue" class="text-sm font-bold text-purple-600">50%</span>
                                </div>
                                <input type="range" id="scaleRange" min="1" max="99" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            </div>
                        </div>

                        <!-- Enlarge Options (Hidden initially) -->
                        <div id="enlargeOptions" class="hidden space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <label class="text-sm font-medium text-gray-700">Upscale Percentage</label>
                                    <span id="upscaleValue" class="text-sm font-bold text-purple-600">150%</span>
                                </div>
                                <input type="range" id="upscaleRange" min="101" max="400" value="150" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <p class="mt-2 text-xs text-gray-400">Can enlarge up to 400% (4x).</p>
                            </div>
                        </div>

                        <button id="processBtn" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg shadow-md transition duration-150 ease-in-out flex justify-center items-center gap-2 transform active:scale-95">
                            <i class="fa-solid fa-rocket"></i> Process Image
                        </button>

                    </div>
                    
                    <!-- Quality Guide -->
                    <div class="px-6 pb-6 pt-0">
                        <div class="bg-gray-50 rounded-lg p-4 text-xs text-gray-600 space-y-1 border border-gray-100">
                            <p class="font-semibold mb-2 text-gray-700">Quick Guide:</p>
                            <p><span class="text-green-600 font-bold">80-100%:</span> High Quality, minimal compression.</p>
                            <p><span class="text-yellow-600 font-bold">60-79%:</span> Balanced for Web.</p>
                            <p><span class="text-red-500 font-bold">40-59%:</span> High Compression (Smallest size).</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Preview -->
            <div class="lg:col-span-7">
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden min-h-[600px] flex flex-col">
                    <div class="p-5 border-b border-gray-100 bg-gray-50 flex justify-between items-center">
                        <h3 class="font-semibold text-gray-800"><i class="fa-solid fa-eye mr-2 text-purple-500"></i>Live Preview</h3>
                        <div id="statusBadge" class="hidden bg-yellow-100 text-yellow-800 text-xs font-semibold px-2.5 py-1 rounded-full">
                            Processing...
                        </div>
                    </div>
                    
                    <div class="flex-grow p-6 bg-slate-50 flex flex-col items-center justify-center relative overflow-hidden">
                        <!-- Empty State -->
                        <div id="emptyState" class="text-center text-gray-400">
                            <i class="fa-solid fa-wand-magic text-6xl mb-4 opacity-50"></i>
                            <p>Upload an image to start magic</p>
                        </div>

                        <!-- Preview Image -->
                        <img id="preview" src="" alt="Preview" class="hidden max-w-full max-h-[500px] rounded-lg shadow-md object-contain border border-gray-200 transition-all duration-300">
                    </div>

                    <!-- Results Panel -->
                    <div id="resultPanel" class="hidden p-6 bg-white border-t border-gray-100 fade-in">
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">
                            <div class="bg-gray-50 p-3 rounded-lg border border-gray-100 text-center">
                                <p class="text-xs text-gray-500 uppercase font-bold">Original</p>
                                <p id="origSize" class="text-sm font-semibold text-gray-800">-</p>
                            </div>
                            <div class="bg-purple-50 p-3 rounded-lg border border-purple-100 text-center">
                                <p class="text-xs text-purple-600 uppercase font-bold">Processed</p>
                                <p id="newSize" class="text-sm font-bold text-purple-700">-</p>
                            </div>
                            <div class="bg-green-50 p-3 rounded-lg border border-green-100 text-center">
                                <p class="text-xs text-green-600 uppercase font-bold">Difference</p>
                                <p id="ratio" class="text-sm font-bold text-green-700">-</p>
                            </div>
                        </div>
                        <a id="downloadBtn" href="#" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg shadow hover:shadow-lg transition flex items-center justify-center gap-2">
                            <i class="fa-solid fa-download"></i> Download Result
                        </a>
                    </div>
                </div>

                <div class="mt-4">
                    <button onclick="history.back()" class="text-gray-500 hover:text-gray-700 font-medium text-sm flex items-center">
                        <i class="fa-solid fa-arrow-left mr-2"></i> Back to Tools
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-gray-200 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-sm text-gray-500">
                &copy; 2023 Free Online Tools. <a href="../../pages/privacy.html" class="text-purple-600 hover:text-purple-500">Privacy Policy</a>
            </p>
        </div>
    </footer>

    <script>
        (function() {
            // Elements
            const fileInput = document.getElementById('fileInput');
            const dropZone = document.getElementById('dropZone');
            const fileInfo = document.getElementById('fileInfo');
            const preview = document.getElementById('preview');
            const emptyState = document.getElementById('emptyState');
            const resultPanel = document.getElementById('resultPanel');
            const statusBadge = document.getElementById('statusBadge');
            
            // Toggle Buttons
            const btnCompress = document.getElementById('btnCompress');
            const btnEnlarge = document.getElementById('btnEnlarge');
            
            // Options Containers
            const compressOptions = document.getElementById('compressOptions');
            const enlargeOptions = document.getElementById('enlargeOptions');
            const compressMethod = document.getElementById('compressMethod');
            const qualityInputGroup = document.getElementById('qualityInputGroup');
            const scaleInputGroup = document.getElementById('scaleInputGroup');
            
            // Sliders
            const qualityRange = document.getElementById('qualityRange');
            const qualityValue = document.getElementById('qualityValue');
            const scaleRange = document.getElementById('scaleRange');
            const scaleValue = document.getElementById('scaleValue');
            const upscaleRange = document.getElementById('upscaleRange');
            const upscaleValue = document.getElementById('upscaleValue');
            
            // Action
            const processBtn = document.getElementById('processBtn');
            const downloadBtn = document.getElementById('downloadBtn');

            // State
            let mode = 'compress'; // or 'enlarge'
            let currentFile = null;

            // --- Event Listeners ---

            // Toggle Mode
            btnCompress.addEventListener('click', () => setMode('compress'));
            btnEnlarge.addEventListener('click', () => setMode('enlarge'));

            function setMode(m) {
                mode = m;
                if (mode === 'compress') {
                    btnCompress.classList.add('active');
                    btnEnlarge.classList.remove('active');
                    compressOptions.classList.remove('hidden');
                    enlargeOptions.classList.add('hidden');
                    processBtn.innerHTML = '<i class="fa-solid fa-compress-arrows-alt mr-2"></i> Compress Image';
                } else {
                    btnCompress.classList.remove('active');
                    btnEnlarge.classList.add('active');
                    compressOptions.classList.add('hidden');
                    enlargeOptions.classList.remove('hidden');
                    processBtn.innerHTML = '<i class="fa-solid fa-expand-arrows-alt mr-2"></i> Enlarge Image';
                }
            }

            // Compress Method Select
            compressMethod.addEventListener('change', () => {
                if (compressMethod.value === 'quality') {
                    qualityInputGroup.classList.remove('hidden');
                    scaleInputGroup.classList.add('hidden');
                } else {
                    qualityInputGroup.classList.add('hidden');
                    scaleInputGroup.classList.remove('hidden');
                }
            });

            // Sliders Update Text
            qualityRange.addEventListener('input', (e) => qualityValue.textContent = e.target.value + '%');
            scaleRange.addEventListener('input', (e) => scaleValue.textContent = e.target.value + '%');
            upscaleRange.addEventListener('input', (e) => upscaleValue.textContent = e.target.value + '%');

            // Drag & Drop
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(e => dropZone.addEventListener(e, preventDefaults, false));
            function preventDefaults(e) { e.preventDefault(); e.stopPropagation(); }
            ['dragenter', 'dragover'].forEach(e => dropZone.addEventListener(e, () => dropZone.classList.add('drag-active')));
            ['dragleave', 'drop'].forEach(e => dropZone.addEventListener(e, () => dropZone.classList.remove('drag-active')));
            
            dropZone.addEventListener('drop', (e) => handleFile(e.dataTransfer.files[0]));
            fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));

            function handleFile(file) {
                if (!file || !file.type.startsWith('image/')) return;
                currentFile = file;
                
                // Show File Info
                fileInfo.textContent = `Selected: ${file.name} (${(file.size/1024).toFixed(2)} KB)`;
                fileInfo.classList.remove('hidden');

                // Load Preview
                const reader = new FileReader();
                reader.onload = (e) => {
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                    emptyState.classList.add('hidden');
                    resultPanel.classList.add('hidden'); // Hide results until processed
                };
                reader.readAsDataURL(file);
            }

            // Process Logic
            processBtn.addEventListener('click', () => {
                if (!currentFile) {
                    alert('Please upload an image first.');
                    return;
                }

                // Show Status
                statusBadge.classList.remove('hidden');
                statusBadge.textContent = 'Processing...';
                processBtn.disabled = true;
                processBtn.classList.add('opacity-75');

                setTimeout(() => {
                    processImage();
                }, 100); // Slight delay for UI update
            });

            function processImage() {
                const img = new Image();
                img.src = URL.createObjectURL(currentFile);
                
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');

                    let scale = 1;
                    let quality = 0.92;

                    // Determine Scale & Quality
                    if (mode === 'compress') {
                        if (compressMethod.value === 'quality') {
                            scale = 1;
                            quality = parseInt(qualityRange.value) / 100;
                        } else {
                            scale = parseInt(scaleRange.value) / 100;
                            quality = 0.92; // Default high quality for resizing
                        }
                    } else {
                        // Enlarge
                        scale = parseInt(upscaleRange.value) / 100;
                        quality = 0.92;
                    }

                    // Calculate Dimensions
                    const width = Math.floor(img.width * scale);
                    const height = Math.floor(img.height * scale);

                    canvas.width = width;
                    canvas.height = height;

                    // Draw
                    // Use simple smoothing for canvas
                    ctx.imageSmoothingEnabled = true;
                    ctx.imageSmoothingQuality = 'high';
                    ctx.drawImage(img, 0, 0, width, height);

                    // Export
                    canvas.toBlob((blob) => {
                        const url = URL.createObjectURL(blob);
                        
                        // Update UI
                        preview.src = url;
                        statusBadge.textContent = 'Done!';
                        statusBadge.classList.replace('bg-yellow-100', 'bg-green-100');
                        statusBadge.classList.replace('text-yellow-800', 'text-green-800');
                        
                        // Show Stats
                        resultPanel.classList.remove('hidden');
                        document.getElementById('origSize').textContent = (currentFile.size / 1024).toFixed(2) + ' KB';
                        document.getElementById('newSize').textContent = (blob.size / 1024).toFixed(2) + ' KB';
                        
                        // Calculate Ratio
                        const ratio = ((blob.size / currentFile.size) * 100).toFixed(0);
                        const ratioText = document.getElementById('ratio');
                        if (ratio < 100) {
                            ratioText.textContent = `-${100 - ratio}%`;
                            ratioText.className = "text-sm font-bold text-green-600";
                        } else {
                            ratioText.textContent = `+${ratio - 100}%`;
                            ratioText.className = "text-sm font-bold text-red-500";
                        }

                        // Download Link
                        downloadBtn.href = url;
                        downloadBtn.download = `processed_${currentFile.name}`;

                        // Cleanup
                        processBtn.disabled = false;
                        processBtn.classList.remove('opacity-75');

                    }, 'image/jpeg', quality);
                };
            }

        })();
    </script>
</body>
</html>
