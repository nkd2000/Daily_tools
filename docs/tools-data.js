/**
 * TOOLS DATABASE - Single Source of Truth
 * AUTO-GENERATED from index.html toolsData
 * 
 * Generated: 2026-01-15T11:29:14.384Z
 * Total tools: 35
 * 
 * ⚠️  DO NOT EDIT MANUALLY - Run: node build-tools-data.js
 * 
 * Instead of editing this file:
 * 1. Update toolsData[] in docs/index.html
 * 2. Run: node build-tools-data.js
 * 3. This file will auto-update
 */

const TOOLS_DATABASE = [
    {
        name: 'Image Compression',
        url: 'tools/image/image-compressor.html',
        cat: 'Image',
        icon: 'fa-compress',
        title: 'Image Compression',
        desc: 'Reduce image file size significantly without losing visible quality.'
    },
    {
        name: 'Smart Image Processor',
        url: 'tools/image/smart-image-processor.html',
        cat: 'Image',
        icon: 'fa-wand-magic-sparkles',
        title: 'Smart Image Processor',
        desc: 'Resize, crop, and optimize images with advanced controls.'
    },
    {
        name: 'Signature Resizer',
        url: 'tools/image/signature-compressor.html',
        cat: 'Image',
        icon: 'fa-file-signature',
        title: 'Signature Resizer',
        desc: 'Create perfect 6x2cm signatures for SSC and Gov forms.'
    },
    {
        name: 'Passport Photo Maker',
        url: 'tools/pdf/passport-maker.html',
        cat: 'Image',
        icon: 'fa-id-card',
        title: 'Passport Photo Maker',
        desc: 'Create printable A4/4x6 sheets of passport size photos.'
    },
    {
        name: 'Image Size Reducer',
        url: 'tools/image/image-reducer.html',
        cat: 'Image',
        icon: 'fa-compress',
        title: 'Image Size Reducer',
        desc: 'Compress images to exact KB sizes (20KB, 50KB) for forms.'
    },
    {
        name: 'SVG Converter',
        url: 'tools/image/svg-converter.html',
        cat: 'Image',
        icon: 'fa-vector-square',
        title: 'SVG Converter',
        desc: 'Convert SVG code/files to high-res PNG, JPG, or WEBP.'
    },
    {
        name: 'YT Thumbnail',
        url: 'tools/image/yt-thumbnail.html',
        cat: 'Image',
        icon: 'fa-youtube',
        title: 'YT Thumbnail',
        desc: 'Download high-quality thumbnails from any YouTube video.'
    },
    {
        name: 'Meme Generator',
        url: 'tools/image/meme-generator.html',
        cat: 'Image',
        icon: 'fa-face-laugh-squint',
        title: 'Meme Generator',
        desc: 'Create viral memes with your own images instantly.'
    },
    {
        name: 'Image Converter',
        url: 'tools/image/image-converter.html',
        cat: 'Image',
        icon: 'fa-arrow-right-arrow-left',
        title: 'Image Converter',
        desc: 'Bulk convert images to WebP, AVIF, or JPG format.'
    },
    {
        name: 'PDF Merger',
        url: 'tools/pdf/merge-pdf.html',
        cat: 'PDF',
        icon: 'fa-file-pdf',
        title: 'PDF Merger',
        desc: 'Combine multiple PDF documents into a single file quickly.'
    },
    {
        name: 'PDF Compressor',
        url: 'tools/pdf/pdf-compressor.html',
        cat: 'PDF',
        icon: 'fa-file-zipper',
        title: 'PDF Compressor',
        desc: 'Reduce PDF file size to specific KB (e.g. 200KB).'
    },
    {
        name: 'PDF Page Reorder',
        url: 'tools/pdf/pdf-page-reorder.html',
        cat: 'PDF',
        icon: 'fa-arrows-up-down',
        title: 'PDF Page Reorder',
        desc: 'Reorder, rotate, and delete PDF pages instantly.'
    },
    {
        name: 'Image to PDF',
        url: 'tools/pdf/image-to-pdf.html',
        cat: 'PDF',
        icon: 'fa-images',
        title: 'Image to PDF',
        desc: 'Convert photos (JPG, PNG) into a single PDF document.'
    },
    {
        name: 'VCF to Excel',
        url: 'tools/converter/vfc-to-excel-converter.html',
        cat: 'PDF',
        icon: 'fa-address-book',
        title: 'VCF to Excel',
        desc: 'Convert contact files (.vcf) into Excel spreadsheets.'
    },
    {
        name: 'Age Calculator',
        url: 'tools/utility/age-calculator.html',
        cat: 'Calc',
        icon: 'fa-cake-candles',
        title: 'Age Calculator',
        desc: 'Calculate your exact age in years, months, and days.'
    },
    {
        name: 'BMI Calculator',
        url: 'tools/utility/bmi-calculator.html',
        cat: 'Calc',
        icon: 'fa-weight-scale',
        title: 'BMI Calculator',
        desc: 'Check Body Mass Index and healthy weight range.'
    },
    {
        name: 'EMI Calculator',
        url: 'tools/finance/emi-calculator.html',
        cat: 'Calc',
        icon: 'fa-coins',
        title: 'EMI Calculator',
        desc: 'Calculate loan installments with interest breakdown.'
    },
    {
        name: 'SIP Calculator',
        url: 'tools/finance/sip-calculator.html',
        cat: 'Calc',
        icon: 'fa-chart-line',
        title: 'SIP Calculator',
        desc: 'Calculate mutual fund returns and wealth growth.'
    },
    {
        name: 'Discount Calculator',
        url: 'tools/finance/discount-calculator.html',
        cat: 'Calc',
        icon: 'fa-percent',
        title: 'Discount Calculator',
        desc: 'Calculate final price, savings, and tax for shopping.'
    },
    {
        name: 'Unit Converter',
        url: 'tools/utility/unit-converter.html',
        cat: 'Calc',
        icon: 'fa-right-left',
        title: 'Unit Converter',
        desc: 'Convert Length, Weight, Temp, and Speed effortlessly.'
    },
    {
        name: 'JSON Formatter',
        url: 'tools/developer/json-formatter.html',
        cat: 'Dev',
        icon: 'fa-code',
        title: 'JSON Formatter',
        desc: 'Beautify, minify, and validate JSON code.'
    },
    {
        name: 'Code Minifier',
        url: 'tools/developer/code-minifier.html',
        cat: 'Dev',
        icon: 'fa-file-code',
        title: 'Code Minifier',
        desc: 'Minify HTML, CSS, and JS to boost website speed.'
    },
    {
        name: 'Color Picker',
        url: 'tools/image/color-picker.html',
        cat: 'Dev',
        icon: 'fa-eye-dropper',
        title: 'Color Picker',
        desc: 'Get HEX, RGB, HSL codes and generate palettes.'
    },
    {
        name: 'QR Code Generator',
        url: 'tools/utility/qr-code-generator.html',
        cat: 'Dev',
        icon: 'fa-qrcode',
        title: 'QR Code Generator',
        desc: 'Create custom QR codes for links, text, or Wi-Fi.'
    },
    {
        name: 'Password Generator',
        url: 'tools/utility/password-generator.html',
        cat: 'Dev',
        icon: 'fa-shield-halved',
        title: 'Password Generator',
        desc: 'Generate strong, secure, and random passwords.'
    },
    {
        name: 'Text Diff Checker',
        url: 'tools/developer/text-diff-checker.html',
        cat: 'Dev',
        icon: 'fa-code-compare',
        title: 'Text Diff Checker',
        desc: 'Compare code/text differences with syntax highlighting and live preview.'
    },
    {
        name: 'Resume Builder',
        url: 'tools/utility/resume-builder.html',
        cat: 'Utility',
        icon: 'fa-user-tie',
        title: 'Resume Builder',
        desc: 'Create professional resumes/CVs in minutes.'
    },
    {
        name: 'Invoice Generator',
        url: 'tools/finance/invoice-generator.html',
        cat: 'Utility',
        icon: 'fa-file-invoice-dollar',
        title: 'Invoice Generator',
        desc: 'Create invoices with GST calculation and PDF download.'
    },
    {
        name: 'Screen Recorder',
        url: 'tools/utility/screen-recorder.html',
        cat: 'Utility',
        icon: 'fa-video',
        title: 'Screen Recorder',
        desc: 'Record screen and webcam with audio. No watermark.'
    },
    {
        name: 'Voice Recorder',
        url: 'tools/utility/voice-recorder.html',
        cat: 'Utility',
        icon: 'fa-microphone-lines',
        title: 'Voice Recorder',
        desc: 'Record audio with professional waveform visualization.'
    },
    {
        name: 'Text to Speech',
        url: 'tools/utility/text-to-speech.html',
        cat: 'Utility',
        icon: 'fa-volume-high',
        title: 'Text to Speech',
        desc: 'Convert text into natural speech with audio visualizer.'
    },
    {
        name: 'Speed Test',
        url: 'tools/utility/speed-test.html',
        cat: 'Utility',
        icon: 'fa-gauge-high',
        title: 'Speed Test',
        desc: 'Check internet speed, ping, and jitter instantly.'
    },
    {
        name: 'Stopwatch & Timer',
        url: 'tools/utility/stopwatch.html',
        cat: 'Utility',
        icon: 'fa-clock',
        title: 'Stopwatch & Timer',
        desc: 'Precise stopwatch and countdown timer with alarm.'
    },
    {
        name: 'Word Counter',
        url: 'tools/utility/word-counter.html',
        cat: 'Utility',
        icon: 'fa-pen-nib',
        title: 'Word Counter',
        desc: 'Count words, characters, and reading time.'
    },
    {
        name: 'Typing Speed Test',
        url: 'tools/utility/typing-speed-test.html',
        cat: 'Utility',
        icon: 'fa-keyboard',
        title: 'Typing Speed Test',
        desc: 'Check your WPM and Accuracy with this typing game.'
    }
];

/**
 * Utility Functions for Search & Suggestions
 */

// Simple Fuzzy Match (tolerates typos)
function fuzzyMatch(searchTerm, text) {
    let searchIdx = 0;
    for (let i = 0; i < text.length; i++) {
        if (searchTerm[searchIdx]?.toLowerCase() === text[i].toLowerCase()) {
            searchIdx++;
            if (searchIdx === searchTerm.length) return true;
        }
    }
    return false;
}

// Levenshtein Distance for typo detection
function levenshteinDistance(str1, str2) {
    const len1 = str1.length;
    const len2 = str2.length;
    const matrix = Array(len2 + 1).fill(null).map(() => Array(len1 + 1).fill(0));
    
    for (let i = 0; i <= len1; i++) matrix[0][i] = i;
    for (let j = 0; j <= len2; j++) matrix[j][0] = j;
    
    for (let j = 1; j <= len2; j++) {
        for (let i = 1; i <= len1; i++) {
            const indicator = str1[i - 1] === str2[j - 1] ? 0 : 1;
            matrix[j][i] = Math.min(
                matrix[j][i - 1] + 1,
                matrix[j - 1][i] + 1,
                matrix[j - 1][i - 1] + indicator
            );
        }
    }
    return matrix[len2][len1];
}

// Search with fuzzy matching
function searchTools(query) {
    if (!query || query.length === 0) return [];
    
    const q = query.toLowerCase();
    
    // Exact & partial matches (higher priority)
    const exactMatches = TOOLS_DATABASE.filter(tool => 
        tool.name.toLowerCase().includes(q) ||
        tool.desc.toLowerCase().includes(q) ||
        tool.cat.toLowerCase().includes(q)
    );
    
    // Fuzzy matches (if few exact matches)
    if (exactMatches.length < 3) {
        const fuzzyMatches = TOOLS_DATABASE.filter(tool =>
            !exactMatches.includes(tool) && fuzzyMatch(q, tool.name)
        );
        return [...exactMatches, ...fuzzyMatches];
    }
    
    return exactMatches;
}

// Get tool suggestions based on category
function getToolsByCategory(category) {
    return TOOLS_DATABASE.filter(tool => tool.cat.toLowerCase() === category.toLowerCase());
}

// Get similar tools (by category or name similarity)
function getSimilarTools(toolName, limit = 3) {
    const tool = TOOLS_DATABASE.find(t => t.name.toLowerCase() === toolName.toLowerCase());
    if (!tool) return [];
    
    const similar = TOOLS_DATABASE.filter(t => 
        t.cat === tool.cat && t.name !== tool.name
    );
    return similar.slice(0, limit);
}

// Get all categories
function getAllCategories() {
    const categories = [...new Set(TOOLS_DATABASE.map(t => t.cat))];
    return categories.sort();
}

// Export for use in other files
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { TOOLS_DATABASE, searchTools, getToolsByCategory, getSimilarTools, getAllCategories };
}
